"use strict";var cov_je73oq4kz=function(){var path="/home/mhashim/Desktop/NewWork/AutoMart/src/controllers/Reflection.js";var hash="1bf9f0fe169e5572a6f113de828167ef4d06d6bc";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/mhashim/Desktop/NewWork/AutoMart/src/controllers/Reflection.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:25}},"2":{start:{line:8,column:18},end:{line:8,column:73}},"3":{start:{line:10,column:39},end:{line:10,column:93}},"4":{start:{line:12,column:12},end:{line:12,column:26}},"5":{start:{line:14,column:19},end:{line:385,column:1}},"6":{start:{line:22,column:4},end:{line:26,column:5}},"7":{start:{line:23,column:6},end:{line:25,column:9}},"8":{start:{line:28,column:23},end:{line:28,column:64}},"9":{start:{line:30,column:4},end:{line:30,column:44}},"10":{start:{line:34,column:4},end:{line:38,column:5}},"11":{start:{line:35,column:6},end:{line:37,column:9}},"12":{start:{line:40,column:23},end:{line:40,column:70}},"13":{start:{line:42,column:4},end:{line:42,column:44}},"14":{start:{line:46,column:16},end:{line:46,column:43}},"15":{start:{line:48,column:4},end:{line:52,column:5}},"16":{start:{line:49,column:6},end:{line:51,column:9}},"17":{start:{line:54,column:23},end:{line:54,column:71}},"18":{start:{line:56,column:24},end:{line:56,column:54}},"19":{start:{line:58,column:4},end:{line:71,column:5}},"20":{start:{line:59,column:6},end:{line:63,column:9}},"21":{start:{line:65,column:6},end:{line:65,column:76}},"22":{start:{line:66,column:6},end:{line:70,column:9}},"23":{start:{line:75,column:16},end:{line:75,column:43}},"24":{start:{line:77,column:4},end:{line:81,column:5}},"25":{start:{line:78,column:6},end:{line:80,column:9}},"26":{start:{line:83,column:23},end:{line:83,column:92}},"27":{start:{line:85,column:24},end:{line:85,column:54}},"28":{start:{line:87,column:4},end:{line:99,column:5}},"29":{start:{line:88,column:6},end:{line:92,column:9}},"30":{start:{line:94,column:6},end:{line:98,column:9}},"31":{start:{line:110,column:24},end:{line:110,column:53}},"32":{start:{line:112,column:4},end:{line:112,column:45}},"33":{start:{line:116,column:24},end:{line:116,column:64}},"34":{start:{line:118,column:4},end:{line:118,column:45}},"35":{start:{line:122,column:24},end:{line:122,column:60}},"36":{start:{line:124,column:4},end:{line:128,column:7}},"37":{start:{line:132,column:24},end:{line:132,column:59}},"38":{start:{line:134,column:4},end:{line:138,column:7}},"39":{start:{line:148,column:23},end:{line:148,column:65}},"40":{start:{line:150,column:4},end:{line:154,column:5}},"41":{start:{line:151,column:6},end:{line:153,column:9}},"42":{start:{line:156,column:4},end:{line:156,column:44}},"43":{start:{line:160,column:23},end:{line:160,column:69}},"44":{start:{line:162,column:4},end:{line:166,column:5}},"45":{start:{line:163,column:6},end:{line:165,column:9}},"46":{start:{line:168,column:4},end:{line:172,column:7}},"47":{start:{line:176,column:23},end:{line:176,column:68}},"48":{start:{line:178,column:4},end:{line:182,column:5}},"49":{start:{line:179,column:6},end:{line:181,column:9}},"50":{start:{line:184,column:4},end:{line:188,column:7}},"51":{start:{line:192,column:23},end:{line:192,column:88}},"52":{start:{line:194,column:4},end:{line:198,column:5}},"53":{start:{line:195,column:6},end:{line:197,column:9}},"54":{start:{line:200,column:4},end:{line:200,column:44}},"55":{start:{line:204,column:23},end:{line:204,column:75}},"56":{start:{line:206,column:4},end:{line:210,column:5}},"57":{start:{line:207,column:6},end:{line:209,column:9}},"58":{start:{line:212,column:4},end:{line:216,column:7}},"59":{start:{line:220,column:23},end:{line:220,column:66}},"60":{start:{line:222,column:4},end:{line:226,column:5}},"61":{start:{line:223,column:6},end:{line:225,column:9}},"62":{start:{line:228,column:4},end:{line:228,column:44}},"63":{start:{line:238,column:23},end:{line:238,column:65}},"64":{start:{line:240,column:4},end:{line:244,column:5}},"65":{start:{line:241,column:6},end:{line:243,column:9}},"66":{start:{line:246,column:30},end:{line:246,column:81}},"67":{start:{line:248,column:4},end:{line:248,column:51}},"68":{start:{line:252,column:16},end:{line:252,column:43}},"69":{start:{line:253,column:20},end:{line:253,column:40}},"70":{start:{line:255,column:23},end:{line:255,column:69}},"71":{start:{line:263,column:30},end:{line:263,column:98}},"72":{start:{line:265,column:4},end:{line:265,column:35}},"73":{start:{line:266,column:24},end:{line:266,column:61}},"74":{start:{line:268,column:4},end:{line:280,column:5}},"75":{start:{line:269,column:6},end:{line:273,column:9}},"76":{start:{line:275,column:6},end:{line:279,column:9}},"77":{start:{line:285,column:16},end:{line:285,column:43}},"78":{start:{line:286,column:20},end:{line:286,column:40}},"79":{start:{line:288,column:23},end:{line:288,column:68}},"80":{start:{line:296,column:30},end:{line:296,column:97}},"81":{start:{line:298,column:24},end:{line:298,column:61}},"82":{start:{line:300,column:4},end:{line:312,column:5}},"83":{start:{line:301,column:6},end:{line:305,column:9}},"84":{start:{line:307,column:6},end:{line:311,column:9}},"85":{start:{line:316,column:16},end:{line:316,column:43}},"86":{start:{line:317,column:20},end:{line:317,column:40}},"87":{start:{line:319,column:23},end:{line:319,column:68}},"88":{start:{line:327,column:30},end:{line:327,column:96}},"89":{start:{line:329,column:24},end:{line:329,column:61}},"90":{start:{line:331,column:4},end:{line:343,column:5}},"91":{start:{line:332,column:6},end:{line:336,column:9}},"92":{start:{line:338,column:6},end:{line:342,column:9}},"93":{start:{line:353,column:23},end:{line:353,column:68}},"94":{start:{line:355,column:4},end:{line:359,column:5}},"95":{start:{line:356,column:6},end:{line:358,column:9}},"96":{start:{line:361,column:16},end:{line:361,column:62}},"97":{start:{line:363,column:24},end:{line:363,column:69}},"98":{start:{line:365,column:4},end:{line:368,column:7}},"99":{start:{line:372,column:23},end:{line:372,column:65}},"100":{start:{line:374,column:4},end:{line:378,column:5}},"101":{start:{line:375,column:6},end:{line:377,column:9}},"102":{start:{line:380,column:16},end:{line:380,column:57}},"103":{start:{line:382,column:4},end:{line:382,column:37}},"104":{start:{line:386,column:15},end:{line:386,column:25}},"105":{start:{line:387,column:0},end:{line:387,column:27}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:10,column:9},end:{line:10,column:31}},loc:{start:{line:10,column:37},end:{line:10,column:95}},line:10},"1":{name:"(anonymous_1)",decl:{start:{line:21,column:2},end:{line:21,column:3}},loc:{start:{line:21,column:19},end:{line:31,column:3}},line:21},"2":{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:25},end:{line:43,column:3}},line:33},"3":{name:"(anonymous_3)",decl:{start:{line:45,column:2},end:{line:45,column:3}},loc:{start:{line:45,column:24},end:{line:72,column:3}},line:45},"4":{name:"(anonymous_4)",decl:{start:{line:74,column:2},end:{line:74,column:3}},loc:{start:{line:74,column:26},end:{line:101,column:3}},line:74},"5":{name:"(anonymous_5)",decl:{start:{line:109,column:2},end:{line:109,column:3}},loc:{start:{line:109,column:19},end:{line:113,column:3}},line:109},"6":{name:"(anonymous_6)",decl:{start:{line:115,column:2},end:{line:115,column:3}},loc:{start:{line:115,column:30},end:{line:119,column:3}},line:115},"7":{name:"(anonymous_7)",decl:{start:{line:121,column:2},end:{line:121,column:3}},loc:{start:{line:121,column:26},end:{line:129,column:3}},line:121},"8":{name:"(anonymous_8)",decl:{start:{line:131,column:2},end:{line:131,column:3}},loc:{start:{line:131,column:25},end:{line:139,column:3}},line:131},"9":{name:"(anonymous_9)",decl:{start:{line:147,column:2},end:{line:147,column:3}},loc:{start:{line:147,column:19},end:{line:157,column:3}},line:147},"10":{name:"(anonymous_10)",decl:{start:{line:159,column:2},end:{line:159,column:3}},loc:{start:{line:159,column:24},end:{line:173,column:3}},line:159},"11":{name:"(anonymous_11)",decl:{start:{line:175,column:2},end:{line:175,column:3}},loc:{start:{line:175,column:22},end:{line:189,column:3}},line:175},"12":{name:"(anonymous_12)",decl:{start:{line:191,column:2},end:{line:191,column:3}},loc:{start:{line:191,column:18},end:{line:201,column:3}},line:191},"13":{name:"(anonymous_13)",decl:{start:{line:203,column:2},end:{line:203,column:3}},loc:{start:{line:203,column:35},end:{line:217,column:3}},line:203},"14":{name:"(anonymous_14)",decl:{start:{line:219,column:2},end:{line:219,column:3}},loc:{start:{line:219,column:25},end:{line:229,column:3}},line:219},"15":{name:"(anonymous_15)",decl:{start:{line:237,column:2},end:{line:237,column:3}},loc:{start:{line:237,column:19},end:{line:249,column:3}},line:237},"16":{name:"(anonymous_16)",decl:{start:{line:251,column:2},end:{line:251,column:3}},loc:{start:{line:251,column:29},end:{line:281,column:3}},line:251},"17":{name:"(anonymous_17)",decl:{start:{line:284,column:2},end:{line:284,column:3}},loc:{start:{line:284,column:28},end:{line:313,column:3}},line:284},"18":{name:"(anonymous_18)",decl:{start:{line:315,column:2},end:{line:315,column:3}},loc:{start:{line:315,column:27},end:{line:344,column:3}},line:315},"19":{name:"(anonymous_19)",decl:{start:{line:352,column:2},end:{line:352,column:3}},loc:{start:{line:352,column:24},end:{line:369,column:3}},line:352},"20":{name:"(anonymous_20)",decl:{start:{line:371,column:2},end:{line:371,column:3}},loc:{start:{line:371,column:19},end:{line:383,column:3}},line:371}},branchMap:{"0":{loc:{start:{line:10,column:46},end:{line:10,column:92}},type:"cond-expr",locations:[{start:{line:10,column:70},end:{line:10,column:73}},{start:{line:10,column:76},end:{line:10,column:92}}],line:10},"1":{loc:{start:{line:10,column:46},end:{line:10,column:67}},type:"binary-expr",locations:[{start:{line:10,column:46},end:{line:10,column:49}},{start:{line:10,column:53},end:{line:10,column:67}}],line:10},"2":{loc:{start:{line:22,column:4},end:{line:26,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:26,column:5}},{start:{line:22,column:4},end:{line:26,column:5}}],line:22},"3":{loc:{start:{line:22,column:8},end:{line:22,column:84}},type:"binary-expr",locations:[{start:{line:22,column:8},end:{line:22,column:28}},{start:{line:22,column:32},end:{line:22,column:57}},{start:{line:22,column:61},end:{line:22,column:84}}],line:22},"4":{loc:{start:{line:34,column:4},end:{line:38,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:38,column:5}},{start:{line:34,column:4},end:{line:38,column:5}}],line:34},"5":{loc:{start:{line:34,column:8},end:{line:34,column:84}},type:"binary-expr",locations:[{start:{line:34,column:8},end:{line:34,column:28}},{start:{line:34,column:32},end:{line:34,column:57}},{start:{line:34,column:61},end:{line:34,column:84}}],line:34},"6":{loc:{start:{line:48,column:4},end:{line:52,column:5}},type:"if",locations:[{start:{line:48,column:4},end:{line:52,column:5}},{start:{line:48,column:4},end:{line:52,column:5}}],line:48},"7":{loc:{start:{line:48,column:8},end:{line:48,column:48}},type:"binary-expr",locations:[{start:{line:48,column:8},end:{line:48,column:29}},{start:{line:48,column:33},end:{line:48,column:48}}],line:48},"8":{loc:{start:{line:58,column:4},end:{line:71,column:5}},type:"if",locations:[{start:{line:58,column:4},end:{line:71,column:5}},{start:{line:58,column:4},end:{line:71,column:5}}],line:58},"9":{loc:{start:{line:77,column:4},end:{line:81,column:5}},type:"if",locations:[{start:{line:77,column:4},end:{line:81,column:5}},{start:{line:77,column:4},end:{line:81,column:5}}],line:77},"10":{loc:{start:{line:87,column:4},end:{line:99,column:5}},type:"if",locations:[{start:{line:87,column:4},end:{line:99,column:5}},{start:{line:87,column:4},end:{line:99,column:5}}],line:87},"11":{loc:{start:{line:150,column:4},end:{line:154,column:5}},type:"if",locations:[{start:{line:150,column:4},end:{line:154,column:5}},{start:{line:150,column:4},end:{line:154,column:5}}],line:150},"12":{loc:{start:{line:162,column:4},end:{line:166,column:5}},type:"if",locations:[{start:{line:162,column:4},end:{line:166,column:5}},{start:{line:162,column:4},end:{line:166,column:5}}],line:162},"13":{loc:{start:{line:178,column:4},end:{line:182,column:5}},type:"if",locations:[{start:{line:178,column:4},end:{line:182,column:5}},{start:{line:178,column:4},end:{line:182,column:5}}],line:178},"14":{loc:{start:{line:194,column:4},end:{line:198,column:5}},type:"if",locations:[{start:{line:194,column:4},end:{line:198,column:5}},{start:{line:194,column:4},end:{line:198,column:5}}],line:194},"15":{loc:{start:{line:206,column:4},end:{line:210,column:5}},type:"if",locations:[{start:{line:206,column:4},end:{line:210,column:5}},{start:{line:206,column:4},end:{line:210,column:5}}],line:206},"16":{loc:{start:{line:222,column:4},end:{line:226,column:5}},type:"if",locations:[{start:{line:222,column:4},end:{line:226,column:5}},{start:{line:222,column:4},end:{line:226,column:5}}],line:222},"17":{loc:{start:{line:240,column:4},end:{line:244,column:5}},type:"if",locations:[{start:{line:240,column:4},end:{line:244,column:5}},{start:{line:240,column:4},end:{line:244,column:5}}],line:240},"18":{loc:{start:{line:268,column:4},end:{line:280,column:5}},type:"if",locations:[{start:{line:268,column:4},end:{line:280,column:5}},{start:{line:268,column:4},end:{line:280,column:5}}],line:268},"19":{loc:{start:{line:300,column:4},end:{line:312,column:5}},type:"if",locations:[{start:{line:300,column:4},end:{line:312,column:5}},{start:{line:300,column:4},end:{line:312,column:5}}],line:300},"20":{loc:{start:{line:331,column:4},end:{line:343,column:5}},type:"if",locations:[{start:{line:331,column:4},end:{line:343,column:5}},{start:{line:331,column:4},end:{line:343,column:5}}],line:331},"21":{loc:{start:{line:355,column:4},end:{line:359,column:5}},type:"if",locations:[{start:{line:355,column:4},end:{line:359,column:5}},{start:{line:355,column:4},end:{line:359,column:5}}],line:355},"22":{loc:{start:{line:374,column:4},end:{line:378,column:5}},type:"if",locations:[{start:{line:374,column:4},end:{line:378,column:5}},{start:{line:374,column:4},end:{line:378,column:5}}],line:374}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"1bf9f0fe169e5572a6f113de828167ef4d06d6bc"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();cov_je73oq4kz.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_je73oq4kz.s[1]++;exports.default=void 0;var _Reflection=(cov_je73oq4kz.s[2]++,_interopRequireDefault(require("../models/Reflection")));function _interopRequireDefault(obj){cov_je73oq4kz.f[0]++;cov_je73oq4kz.s[3]++;return(cov_je73oq4kz.b[1][0]++,obj)&&(cov_je73oq4kz.b[1][1]++,obj.__esModule)?(cov_je73oq4kz.b[0][0]++,obj):(cov_je73oq4kz.b[0][1]++,{default:obj});}const Joi=(cov_je73oq4kz.s[4]++,require('joi'));const Reflection=(cov_je73oq4kz.s[5]++,{/**
   * 
   * @param {object} req 
   * @param {object} res
   * @returns {object} reflection object 
   */create(req,res){cov_je73oq4kz.f[1]++;cov_je73oq4kz.s[6]++;if((cov_je73oq4kz.b[3][0]++,!req.body.data.email)||(cov_je73oq4kz.b[3][1]++,!req.body.data.first_name)||(cov_je73oq4kz.b[3][2]++,!req.body.data.password)){cov_je73oq4kz.b[2][0]++;cov_je73oq4kz.s[7]++;return res.status(400).send({'message':' signup All fields are required'});}else{cov_je73oq4kz.b[2][1]++;}const reflection=(cov_je73oq4kz.s[8]++,_Reflection.default.create(req.body.data));cov_je73oq4kz.s[9]++;return res.status(201).send(reflection);},createsignin(req,res){cov_je73oq4kz.f[2]++;cov_je73oq4kz.s[10]++;if((cov_je73oq4kz.b[5][0]++,!req.body.data.email)||(cov_je73oq4kz.b[5][1]++,!req.body.data.first_name)||(cov_je73oq4kz.b[5][2]++,!req.body.data.password)){cov_je73oq4kz.b[4][0]++;cov_je73oq4kz.s[11]++;return res.status(400).send({'message':' SigninAll fields are required'});}else{cov_je73oq4kz.b[4][1]++;}const reflection=(cov_je73oq4kz.s[12]++,_Reflection.default.createsignin(req.body.data));cov_je73oq4kz.s[13]++;return res.status(201).send(reflection);},createcarad(req,res){cov_je73oq4kz.f[3]++;var token=(cov_je73oq4kz.s[14]++,req.headers['access-token']);//console.log("token==="+token);
cov_je73oq4kz.s[15]++;if((cov_je73oq4kz.b[7][0]++,!req.body.manufacture)||(cov_je73oq4kz.b[7][1]++,!req.body.price)){cov_je73oq4kz.b[6][0]++;cov_je73oq4kz.s[16]++;return res.status(400).send({'message':'  car ad  All fields are required'});}else{cov_je73oq4kz.b[6][1]++;}const reflection=(cov_je73oq4kz.s[17]++,_Reflection.default.createcarad(req.body,token));var keyreflection=(cov_je73oq4kz.s[18]++,Object.keys(reflection).length);//console.log("xxxxxxxxxx"+keyreflection); 
cov_je73oq4kz.s[19]++;if(keyreflection>2){cov_je73oq4kz.b[8][0]++;cov_je73oq4kz.s[20]++;return res.status(201).send({"status":201,"message":"Car AD  is created","data":reflection});}else{cov_je73oq4kz.b[8][1]++;cov_je73oq4kz.s[21]++;console.log(_Reflection.default.createcarad.reflectioncaraddnotfound);cov_je73oq4kz.s[22]++;return res.status(201).send({"status":201,"message":" Car ad not created ","data":reflection});//return res.status(201).send({"status":404 , "message": "User not found check token please"});
}},createorderad(req,res){cov_je73oq4kz.f[4]++;var token=(cov_je73oq4kz.s[23]++,req.headers['access-token']);//console.log("token==="+token);
cov_je73oq4kz.s[24]++;if(!req.body.price_offered){cov_je73oq4kz.b[9][0]++;cov_je73oq4kz.s[25]++;return res.status(400).send({'message':'  order ad  All fields are required'});}else{cov_je73oq4kz.b[9][1]++;}const reflection=(cov_je73oq4kz.s[26]++,_Reflection.default.createorderad(req.body,token,req.params.car_id));var keyreflection=(cov_je73oq4kz.s[27]++,Object.keys(reflection).length);cov_je73oq4kz.s[28]++;if(keyreflection>2){cov_je73oq4kz.b[10][0]++;cov_je73oq4kz.s[29]++;return res.status(201).send({"status":201,"message":"Buy Order  is created","data":reflection});}else{cov_je73oq4kz.b[10][1]++;cov_je73oq4kz.s[30]++;return res.status(201).send({"status":201,"message":" Order ad not created ","data":reflection});}//////////////////////if ok 
},/**
   * 
   * @param {object} req 
   * @param {object} res 
   * @returns {object} reflections array
   */getAll(req,res){cov_je73oq4kz.f[5]++;const reflections=(cov_je73oq4kz.s[31]++,_Reflection.default.findAll());cov_je73oq4kz.s[32]++;return res.status(200).send(reflections);},getAllsigninusers(req,res){cov_je73oq4kz.f[6]++;const reflections=(cov_je73oq4kz.s[33]++,_Reflection.default.findAllsigninusers());cov_je73oq4kz.s[34]++;return res.status(200).send(reflections);},getAllcarsads(req,res){cov_je73oq4kz.f[7]++;const reflections=(cov_je73oq4kz.s[35]++,_Reflection.default.findAllcarsads());cov_je73oq4kz.s[36]++;return res.status(200).send({"status":200,"message":"all cars ","data":reflections});},getAllorders(req,res){cov_je73oq4kz.f[8]++;const reflections=(cov_je73oq4kz.s[37]++,_Reflection.default.findAllorders());cov_je73oq4kz.s[38]++;return res.status(200).send({"status":200,"message":"all orders ","data":reflections});},/**
   * 
   * @param {object} req 
   * @param {object} res
   * @returns {object} reflection object
   */getOne(req,res){cov_je73oq4kz.f[9]++;const reflection=(cov_je73oq4kz.s[39]++,_Reflection.default.findOne(req.params.id));cov_je73oq4kz.s[40]++;if(!reflection){cov_je73oq4kz.b[11][0]++;cov_je73oq4kz.s[41]++;return res.status(404).send({'message':'reflection not found'});}else{cov_je73oq4kz.b[11][1]++;}cov_je73oq4kz.s[42]++;return res.status(200).send(reflection);},getOrderOne(req,res){cov_je73oq4kz.f[10]++;const reflection=(cov_je73oq4kz.s[43]++,_Reflection.default.findoderOne(req.params.id));cov_je73oq4kz.s[44]++;if(!reflection){cov_je73oq4kz.b[12][0]++;cov_je73oq4kz.s[45]++;return res.status(404).send({'message':' Order not found not found'});}else{cov_je73oq4kz.b[12][1]++;}cov_je73oq4kz.s[46]++;return res.status(200).send({"status":200,"message":" Get order ad by id ","data":reflection});},getOneCar(req,res){cov_je73oq4kz.f[11]++;const reflection=(cov_je73oq4kz.s[47]++,_Reflection.default.findCarOne(req.params.id));cov_je73oq4kz.s[48]++;if(!reflection){cov_je73oq4kz.b[13][0]++;cov_je73oq4kz.s[49]++;return res.status(404).send({'message':' Car found not found'});}else{cov_je73oq4kz.b[13][1]++;}cov_je73oq4kz.s[50]++;return res.status(200).send({"status":200,"message":" Get car ad by id ","data":reflection});},getA1(req,res){cov_je73oq4kz.f[12]++;const reflection=(cov_je73oq4kz.s[51]++,_Reflection.default.findA1(req.query.success,req.query.lowPoint));cov_je73oq4kz.s[52]++;if(!reflection){cov_je73oq4kz.b[14][0]++;cov_je73oq4kz.s[53]++;return res.status(404).send({'message':'reflection seach  not found'});}else{cov_je73oq4kz.b[14][1]++;}cov_je73oq4kz.s[54]++;return res.status(200).send(reflection);},getunsoldcarpricerange(req,res){cov_je73oq4kz.f[13]++;const reflection=(cov_je73oq4kz.s[55]++,_Reflection.default.findsoldcarpricerange(req.query));cov_je73oq4kz.s[56]++;if(!reflection){cov_je73oq4kz.b[15][0]++;cov_je73oq4kz.s[57]++;return res.status(404).send({'message':'  unsold price  seach  not found'});}else{cov_je73oq4kz.b[15][1]++;}cov_je73oq4kz.s[58]++;return res.status(200).send({"status":200,"message":"all cars ","data":reflection});},getunsoldcar(req,res){cov_je73oq4kz.f[14]++;const reflection=(cov_je73oq4kz.s[59]++,_Reflection.default.findsoldcars(req.query));cov_je73oq4kz.s[60]++;if(!reflection){cov_je73oq4kz.b[16][0]++;cov_je73oq4kz.s[61]++;return res.status(404).send({'message':'No availabe car'});}else{cov_je73oq4kz.b[16][1]++;}cov_je73oq4kz.s[62]++;return res.status(200).send(reflection);},/**
   * 
   * @param {object} req 
   * @param {object} res 
   * @returns {object} updated reflection
   */update(req,res){cov_je73oq4kz.f[15]++;const reflection=(cov_je73oq4kz.s[63]++,_Reflection.default.findOne(req.params.id));cov_je73oq4kz.s[64]++;if(!reflection){cov_je73oq4kz.b[17][0]++;cov_je73oq4kz.s[65]++;return res.status(404).send({'message':'reflection not found'});}else{cov_je73oq4kz.b[17][1]++;}const updatedReflection=(cov_je73oq4kz.s[66]++,_Reflection.default.update(req.params.id,req.body));cov_je73oq4kz.s[67]++;return res.status(200).send(updatedReflection);},updateorderprice(req,res){cov_je73oq4kz.f[16]++;var token=(cov_je73oq4kz.s[68]++,req.headers['access-token']);var new_price=(cov_je73oq4kz.s[69]++,req.params.new_price);const reflection=(cov_je73oq4kz.s[70]++,_Reflection.default.findoderOne(req.params.id));/*
    if (!reflection) {
      return res.status(404).send({'message': ' update  order  not found'});
    }
    */const updatedReflection=(cov_je73oq4kz.s[71]++,_Reflection.default.updateorderprice(req.params.id,req.body,token));cov_je73oq4kz.s[72]++;console.log(updatedReflection);var keyreflection=(cov_je73oq4kz.s[73]++,Object.keys(updatedReflection).length);cov_je73oq4kz.s[74]++;if(keyreflection>2){cov_je73oq4kz.b[18][0]++;cov_je73oq4kz.s[75]++;return res.status(200).send({"status":200,"message":" successfully updated ","data":updatedReflection});}else{cov_je73oq4kz.b[18][1]++;cov_je73oq4kz.s[76]++;return res.status(201).send({"status":201,"message":" order offered price not updated ","data":updatedReflection});//return res.status(201).send({"status":404 , "message": "User not found check token please"});
}},/////////////////////////////////////////
updatecarstatus(req,res){cov_je73oq4kz.f[17]++;var token=(cov_je73oq4kz.s[77]++,req.headers['access-token']);var new_price=(cov_je73oq4kz.s[78]++,req.params.new_price);const reflection=(cov_je73oq4kz.s[79]++,_Reflection.default.findCarOne(req.params.id));/*
    if (!reflection) {
      return res.status(404).send({'message': ' ID error  Can not update car stutas to sold   '});
    }
    */const updatedReflection=(cov_je73oq4kz.s[80]++,_Reflection.default.updatecarstatus(req.params.id,req.body,token));var keyreflection=(cov_je73oq4kz.s[81]++,Object.keys(updatedReflection).length);cov_je73oq4kz.s[82]++;if(keyreflection>2){cov_je73oq4kz.b[19][0]++;cov_je73oq4kz.s[83]++;return res.status(200).send({"status":200,"message":" successfully updated  car status to sold","data":updatedReflection});}else{cov_je73oq4kz.b[19][1]++;cov_je73oq4kz.s[84]++;return res.status(201).send({"status":201,"message":" Car Ad Status not updated ","data":updatedReflection});//return res.status(201).send({"status":404 , "message": "User not found check token please"});
}},updatecarprice(req,res){cov_je73oq4kz.f[18]++;var token=(cov_je73oq4kz.s[85]++,req.headers['access-token']);var car_price=(cov_je73oq4kz.s[86]++,req.params.car_price);const reflection=(cov_je73oq4kz.s[87]++,_Reflection.default.findCarOne(req.params.id));/*
    if (!reflection) {
      return res.status(404).send({'message': ' car_price not updated  '});
    }
    */const updatedReflection=(cov_je73oq4kz.s[88]++,_Reflection.default.updatecarprice(req.params.id,req.body,token));var keyreflection=(cov_je73oq4kz.s[89]++,Object.keys(updatedReflection).length);cov_je73oq4kz.s[90]++;if(keyreflection>2){cov_je73oq4kz.b[20][0]++;cov_je73oq4kz.s[91]++;return res.status(200).send({"status":200,"message":" successfully updated ","data":updatedReflection});}else{cov_je73oq4kz.b[20][1]++;cov_je73oq4kz.s[92]++;return res.status(201).send({"status":201,"message":" Car price not updated ","data":updatedReflection});//return res.status(201).send({"status":404 , "message": "User not found check token please"});
}},/**
   * 
   * @param {object} req 
    * @param {object} res 
   * @returns {void} return statuc code 204 
   */deletecarad(req,res){cov_je73oq4kz.f[19]++;const reflection=(cov_je73oq4kz.s[93]++,_Reflection.default.findCarOne(req.params.id));cov_je73oq4kz.s[94]++;if(!reflection){cov_je73oq4kz.b[21][0]++;cov_je73oq4kz.s[95]++;return res.status(404).send({'message':'car id  not found'});}else{cov_je73oq4kz.b[21][1]++;}const ref=(cov_je73oq4kz.s[96]++,_Reflection.default.deletecarad(req.params.id));const reflectionx=(cov_je73oq4kz.s[97]++,_Reflection.default.findCarOne(req.params.id));cov_je73oq4kz.s[98]++;return res.status(404).send({'status':0,'message':'Car Ad successfully deleted'});//return res.status(204).send(me);
},delete(req,res){cov_je73oq4kz.f[20]++;const reflection=(cov_je73oq4kz.s[99]++,_Reflection.default.findOne(req.params.id));cov_je73oq4kz.s[100]++;if(!reflection){cov_je73oq4kz.b[22][0]++;cov_je73oq4kz.s[101]++;return res.status(404).send({'message':'reflection not found'});}else{cov_je73oq4kz.b[22][1]++;}const ref=(cov_je73oq4kz.s[102]++,_Reflection.default.delete(req.params.id));cov_je73oq4kz.s[103]++;return res.status(204).send(ref);}});var _default=(cov_je73oq4kz.s[104]++,Reflection);cov_je73oq4kz.s[105]++;exports.default=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlZmxlY3Rpb24uanMiXSwibmFtZXMiOlsiSm9pIiwicmVxdWlyZSIsIlJlZmxlY3Rpb24iLCJjcmVhdGUiLCJyZXEiLCJyZXMiLCJib2R5IiwiZGF0YSIsImVtYWlsIiwiZmlyc3RfbmFtZSIsInBhc3N3b3JkIiwic3RhdHVzIiwic2VuZCIsInJlZmxlY3Rpb24iLCJSZWZsZWN0aW9uTW9kZWwiLCJjcmVhdGVzaWduaW4iLCJjcmVhdGVjYXJhZCIsInRva2VuIiwiaGVhZGVycyIsIm1hbnVmYWN0dXJlIiwicHJpY2UiLCJrZXlyZWZsZWN0aW9uIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsImNvbnNvbGUiLCJsb2ciLCJyZWZsZWN0aW9uY2FyYWRkbm90Zm91bmQiLCJjcmVhdGVvcmRlcmFkIiwicHJpY2Vfb2ZmZXJlZCIsInBhcmFtcyIsImNhcl9pZCIsImdldEFsbCIsInJlZmxlY3Rpb25zIiwiZmluZEFsbCIsImdldEFsbHNpZ25pbnVzZXJzIiwiZmluZEFsbHNpZ25pbnVzZXJzIiwiZ2V0QWxsY2Fyc2FkcyIsImZpbmRBbGxjYXJzYWRzIiwiZ2V0QWxsb3JkZXJzIiwiZmluZEFsbG9yZGVycyIsImdldE9uZSIsImZpbmRPbmUiLCJpZCIsImdldE9yZGVyT25lIiwiZmluZG9kZXJPbmUiLCJnZXRPbmVDYXIiLCJmaW5kQ2FyT25lIiwiZ2V0QTEiLCJmaW5kQTEiLCJxdWVyeSIsInN1Y2Nlc3MiLCJsb3dQb2ludCIsImdldHVuc29sZGNhcnByaWNlcmFuZ2UiLCJmaW5kc29sZGNhcnByaWNlcmFuZ2UiLCJnZXR1bnNvbGRjYXIiLCJmaW5kc29sZGNhcnMiLCJ1cGRhdGUiLCJ1cGRhdGVkUmVmbGVjdGlvbiIsInVwZGF0ZW9yZGVycHJpY2UiLCJuZXdfcHJpY2UiLCJ1cGRhdGVjYXJzdGF0dXMiLCJ1cGRhdGVjYXJwcmljZSIsImNhcl9wcmljZSIsImRlbGV0ZWNhcmFkIiwicmVmIiwicmVmbGVjdGlvbngiLCJkZWxldGUiXSwibWFwcGluZ3MiOiI7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LENBQVdhLEVBQW5DLENBQW5COztBQUNBLFFBQUksQ0FBQzlCLFVBQUwsRUFBaUI7QUFDZixhQUFPUixHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDLG1CQUFXO0FBQVosT0FBckIsQ0FBUDtBQUNEOztBQUNELFVBQU1xRCxHQUFHLEdBQUduRCxvQkFBZ0JxRCxNQUFoQixDQUF1Qi9ELEdBQUcsQ0FBQzBCLE1BQUosQ0FBV2EsRUFBbEMsQ0FBWjs7QUFDQSxXQUFPdEMsR0FBRyxDQUFDTSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJxRCxHQUFyQixDQUFQO0FBQ0Q7O0FBelFnQixDQUFuQjtlQTRRZS9ELFUiLCJzb3VyY2VSb290IjoiL2hvbWUvbWhhc2hpbS9EZXNrdG9wL05ld1dvcmsvQXV0b01hcnQvc3JjL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlZmxlY3Rpb25Nb2RlbCBmcm9tICcuLi9tb2RlbHMvUmVmbGVjdGlvbic7XG5jb25zdCBKb2kgPSByZXF1aXJlKCdqb2knKTtcblxuY29uc3QgUmVmbGVjdGlvbiA9IHtcbiAgLyoqXG4gICAqIFxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVxIFxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVzXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHJlZmxlY3Rpb24gb2JqZWN0IFxuICAgKi9cbiAgY3JlYXRlKHJlcSwgcmVzKSB7XG4gICAgaWYgKCFyZXEuYm9keS5kYXRhLmVtYWlsIHx8ICFyZXEuYm9keS5kYXRhLmZpcnN0X25hbWUgfHwgICFyZXEuYm9keS5kYXRhLnBhc3N3b3JkKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeydtZXNzYWdlJzogJyBzaWdudXAgQWxsIGZpZWxkcyBhcmUgcmVxdWlyZWQnfSlcbiAgICB9XG4gICAgY29uc3QgcmVmbGVjdGlvbiA9IFJlZmxlY3Rpb25Nb2RlbC5jcmVhdGUocmVxLmJvZHkuZGF0YSk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHJlZmxlY3Rpb24pO1xuICB9LFxuXG4gY3JlYXRlc2lnbmluKHJlcSwgcmVzKSB7XG4gICAgaWYgKCFyZXEuYm9keS5kYXRhLmVtYWlsIHx8ICFyZXEuYm9keS5kYXRhLmZpcnN0X25hbWUgfHwgICFyZXEuYm9keS5kYXRhLnBhc3N3b3JkKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeydtZXNzYWdlJzogJyBTaWduaW5BbGwgZmllbGRzIGFyZSByZXF1aXJlZCd9KVxuICAgIH1cbiAgICBjb25zdCByZWZsZWN0aW9uID0gUmVmbGVjdGlvbk1vZGVsLmNyZWF0ZXNpZ25pbihyZXEuYm9keS5kYXRhKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQocmVmbGVjdGlvbik7XG4gIH0sXG4gY3JlYXRlY2FyYWQocmVxLCByZXMpIHtcbiAgICB2YXIgdG9rZW4gPSByZXEuaGVhZGVyc1snYWNjZXNzLXRva2VuJ107XG4gIC8vY29uc29sZS5sb2coXCJ0b2tlbj09PVwiK3Rva2VuKTtcbiAgICBpZiAoIXJlcS5ib2R5Lm1hbnVmYWN0dXJlIHx8ICAhcmVxLmJvZHkucHJpY2UpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7J21lc3NhZ2UnOiAnICBjYXIgYWQgIEFsbCBmaWVsZHMgYXJlIHJlcXVpcmVkJ30pXG4gICAgfVxuICAgIGNvbnN0IHJlZmxlY3Rpb24gPSBSZWZsZWN0aW9uTW9kZWwuY3JlYXRlY2FyYWQocmVxLmJvZHksdG9rZW4pO1xuICAgIHZhciBrZXlyZWZsZWN0aW9uID0gT2JqZWN0LmtleXMocmVmbGVjdGlvbikubGVuZ3RoO1xuICAgIC8vY29uc29sZS5sb2coXCJ4eHh4eHh4eHh4XCIra2V5cmVmbGVjdGlvbik7IFxuICAgIGlmIChrZXlyZWZsZWN0aW9uID4gMil7IFxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuc2VuZCh7XCJzdGF0dXNcIjoyMDEgLCBcIm1lc3NhZ2VcIjogXCJDYXIgQUQgIGlzIGNyZWF0ZWRcIiwgXCJkYXRhXCIgOiByZWZsZWN0aW9ufSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFJlZmxlY3Rpb25Nb2RlbC5jcmVhdGVjYXJhZC5yZWZsZWN0aW9uY2FyYWRkbm90Zm91bmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQoe1wic3RhdHVzXCI6MjAxICwgXCJtZXNzYWdlXCI6IFwiIENhciBhZCBub3QgY3JlYXRlZCBcIiwgXCJkYXRhXCIgOnJlZmxlY3Rpb259KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3JldHVybiByZXMuc3RhdHVzKDIwMSkuc2VuZCh7XCJzdGF0dXNcIjo0MDQgLCBcIm1lc3NhZ2VcIjogXCJVc2VyIG5vdCBmb3VuZCBjaGVjayB0b2tlbiBwbGVhc2VcIn0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gIFxuICB9LFxuXG5jcmVhdGVvcmRlcmFkKHJlcSwgcmVzKSB7XG4gdmFyIHRva2VuID0gcmVxLmhlYWRlcnNbJ2FjY2Vzcy10b2tlbiddO1xuICAvL2NvbnNvbGUubG9nKFwidG9rZW49PT1cIit0b2tlbik7XG4gICAgaWYgKCFyZXEuYm9keS5wcmljZV9vZmZlcmVkKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeydtZXNzYWdlJzogJyAgb3JkZXIgYWQgIEFsbCBmaWVsZHMgYXJlIHJlcXVpcmVkJ30pXG4gICAgfVxuICAgIGNvbnN0IHJlZmxlY3Rpb24gPSBSZWZsZWN0aW9uTW9kZWwuY3JlYXRlb3JkZXJhZChyZXEuYm9keSx0b2tlbixyZXEucGFyYW1zLmNhcl9pZCk7XG4gICAgdmFyIGtleXJlZmxlY3Rpb24gPSBPYmplY3Qua2V5cyhyZWZsZWN0aW9uKS5sZW5ndGg7XG4gICAgaWYgKGtleXJlZmxlY3Rpb24gPiAyKXtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQoe1wic3RhdHVzXCI6MjAxICwgXCJtZXNzYWdlXCI6IFwiQnV5IE9yZGVyICBpcyBjcmVhdGVkXCIsIFwiZGF0YVwiIDogcmVmbGVjdGlvbn0pO1xuICAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuc2VuZCh7XCJzdGF0dXNcIjoyMDEgLCBcIm1lc3NhZ2VcIjogXCIgT3JkZXIgYWQgbm90IGNyZWF0ZWQgXCIsIFwiZGF0YVwiIDpyZWZsZWN0aW9ufSk7XG4gICAgICAgIH0vLy8vLy8vLy8vLy8vLy8vLy8vLy8vaWYgb2sgXG4gIFxuICB9LFxuXG5cbiAgLyoqXG4gICAqIFxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVxIFxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVzIFxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSByZWZsZWN0aW9ucyBhcnJheVxuICAgKi9cbiAgZ2V0QWxsKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgcmVmbGVjdGlvbnMgPSBSZWZsZWN0aW9uTW9kZWwuZmluZEFsbCgpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZChyZWZsZWN0aW9ucyk7XG4gIH0sXG5cbiAgZ2V0QWxsc2lnbmludXNlcnMocmVxLCByZXMpIHtcbiAgICBjb25zdCByZWZsZWN0aW9ucyA9IFJlZmxlY3Rpb25Nb2RlbC5maW5kQWxsc2lnbmludXNlcnMoKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQocmVmbGVjdGlvbnMpO1xuICB9LFxuXG4gICBnZXRBbGxjYXJzYWRzKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgcmVmbGVjdGlvbnMgPSBSZWZsZWN0aW9uTW9kZWwuZmluZEFsbGNhcnNhZHMoKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoe1wic3RhdHVzXCI6MjAwICwgXCJtZXNzYWdlXCI6IFwiYWxsIGNhcnMgXCIsIFwiZGF0YVwiIDogcmVmbGVjdGlvbnN9KTtcbiAgfSxcblxuXG5nZXRBbGxvcmRlcnMocmVxLCByZXMpIHtcbiAgICBjb25zdCByZWZsZWN0aW9ucyA9IFJlZmxlY3Rpb25Nb2RlbC5maW5kQWxsb3JkZXJzKCk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcInN0YXR1c1wiOjIwMCAsIFwibWVzc2FnZVwiOiBcImFsbCBvcmRlcnMgXCIsIFwiZGF0YVwiIDpyZWZsZWN0aW9uc30pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlcSBcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlc1xuICAgKiBAcmV0dXJucyB7b2JqZWN0fSByZWZsZWN0aW9uIG9iamVjdFxuICAgKi9cbiAgZ2V0T25lKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgcmVmbGVjdGlvbiA9IFJlZmxlY3Rpb25Nb2RlbC5maW5kT25lKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmICghcmVmbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsnbWVzc2FnZSc6ICdyZWZsZWN0aW9uIG5vdCBmb3VuZCd9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHJlZmxlY3Rpb24pO1xuICB9LFxuXG4gIGdldE9yZGVyT25lKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgcmVmbGVjdGlvbiA9IFJlZmxlY3Rpb25Nb2RlbC5maW5kb2Rlck9uZShyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAoIXJlZmxlY3Rpb24pIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7J21lc3NhZ2UnOiAnIE9yZGVyIG5vdCBmb3VuZCBub3QgZm91bmQnfSk7XG4gICAgfVxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XCJzdGF0dXNcIjoyMDAgLCBcIm1lc3NhZ2VcIjogXCIgR2V0IG9yZGVyIGFkIGJ5IGlkIFwiLCBcImRhdGFcIiA6cmVmbGVjdGlvbn0pO1xuICB9LFxuXG4gIGdldE9uZUNhcihyZXEsIHJlcykge1xuICAgIGNvbnN0IHJlZmxlY3Rpb24gPSBSZWZsZWN0aW9uTW9kZWwuZmluZENhck9uZShyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAoIXJlZmxlY3Rpb24pIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7J21lc3NhZ2UnOiAnIENhciBmb3VuZCBub3QgZm91bmQnfSk7XG4gICAgfVxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XCJzdGF0dXNcIjoyMDAgLCBcIm1lc3NhZ2VcIjogXCIgR2V0IGNhciBhZCBieSBpZCBcIiwgXCJkYXRhXCIgOnJlZmxlY3Rpb259KTtcbiAgfSxcblxuICBnZXRBMShyZXEsIHJlcykge1xuICBcbiAgICBjb25zdCByZWZsZWN0aW9uID0gUmVmbGVjdGlvbk1vZGVsLmZpbmRBMShyZXEucXVlcnkuc3VjY2VzcyAsIHJlcS5xdWVyeS5sb3dQb2ludCk7XG4gICAgaWYgKCFyZWZsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoeydtZXNzYWdlJzogJ3JlZmxlY3Rpb24gc2VhY2ggIG5vdCBmb3VuZCd9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHJlZmxlY3Rpb24pO1xuICB9LFxuXG5cbmdldHVuc29sZGNhcnByaWNlcmFuZ2UocmVxLCByZXMpIHtcbiAgXG4gICAgY29uc3QgcmVmbGVjdGlvbiA9IFJlZmxlY3Rpb25Nb2RlbC5maW5kc29sZGNhcnByaWNlcmFuZ2UocmVxLnF1ZXJ5KTtcbiAgICBpZiAoIXJlZmxlY3Rpb24pIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7J21lc3NhZ2UnOiAnICB1bnNvbGQgcHJpY2UgIHNlYWNoICBub3QgZm91bmQnfSk7XG4gICAgfVxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XCJzdGF0dXNcIjoyMDAgLCBcIm1lc3NhZ2VcIjogXCJhbGwgY2FycyBcIiwgXCJkYXRhXCIgOnJlZmxlY3Rpb259KTtcbiAgfSxcblxuZ2V0dW5zb2xkY2FyKHJlcSwgcmVzKSB7XG4gIFxuICAgIGNvbnN0IHJlZmxlY3Rpb24gPSBSZWZsZWN0aW9uTW9kZWwuZmluZHNvbGRjYXJzKHJlcS5xdWVyeSk7XG4gICAgaWYgKCFyZWZsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoeydtZXNzYWdlJzogJ05vIGF2YWlsYWJlIGNhcid9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHJlZmxlY3Rpb24pO1xuICB9LFxuXG5cbiAgLyoqXG4gICAqIFxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVxIFxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVzIFxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSB1cGRhdGVkIHJlZmxlY3Rpb25cbiAgICovXG4gIHVwZGF0ZShyZXEsIHJlcykge1xuICAgIGNvbnN0IHJlZmxlY3Rpb24gPSBSZWZsZWN0aW9uTW9kZWwuZmluZE9uZShyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAoIXJlZmxlY3Rpb24pIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7J21lc3NhZ2UnOiAncmVmbGVjdGlvbiBub3QgZm91bmQnfSk7XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZWRSZWZsZWN0aW9uID0gUmVmbGVjdGlvbk1vZGVsLnVwZGF0ZShyZXEucGFyYW1zLmlkLCByZXEuYm9keSlcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQodXBkYXRlZFJlZmxlY3Rpb24pO1xuICB9LFxuXG51cGRhdGVvcmRlcnByaWNlKHJlcSwgcmVzKSB7XG4gIHZhciB0b2tlbiA9IHJlcS5oZWFkZXJzWydhY2Nlc3MtdG9rZW4nXTtcbiAgICB2YXIgbmV3X3ByaWNlPXJlcS5wYXJhbXMubmV3X3ByaWNlO1xuICAgIGNvbnN0IHJlZmxlY3Rpb24gPSBSZWZsZWN0aW9uTW9kZWwuZmluZG9kZXJPbmUocmVxLnBhcmFtcy5pZCk7XG4gICAgLypcbiAgICBpZiAoIXJlZmxlY3Rpb24pIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7J21lc3NhZ2UnOiAnIHVwZGF0ZSAgb3JkZXIgIG5vdCBmb3VuZCd9KTtcbiAgICB9XG4gICAgKi9cbiAgICBjb25zdCB1cGRhdGVkUmVmbGVjdGlvbiA9IFJlZmxlY3Rpb25Nb2RlbC51cGRhdGVvcmRlcnByaWNlKHJlcS5wYXJhbXMuaWQsIHJlcS5ib2R5LCB0b2tlbilcbiAgICBjb25zb2xlLmxvZyh1cGRhdGVkUmVmbGVjdGlvbik7IFxuICAgIHZhciBrZXlyZWZsZWN0aW9uID0gT2JqZWN0LmtleXModXBkYXRlZFJlZmxlY3Rpb24pLmxlbmd0aDtcbiAgICBpZiAoa2V5cmVmbGVjdGlvbiA+IDIgKXtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoe1wic3RhdHVzXCI6MjAwICwgXCJtZXNzYWdlXCI6IFwiIHN1Y2Nlc3NmdWxseSB1cGRhdGVkIFwiLCBcImRhdGFcIiA6dXBkYXRlZFJlZmxlY3Rpb259KTtcbiAgICB9XG4gICAgZWxzZSB7XG5yZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQoe1wic3RhdHVzXCI6MjAxICwgXCJtZXNzYWdlXCI6IFwiIG9yZGVyIG9mZmVyZWQgcHJpY2Ugbm90IHVwZGF0ZWQgXCIsIFwiZGF0YVwiIDp1cGRhdGVkUmVmbGVjdGlvbn0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHtcInN0YXR1c1wiOjQwNCAsIFwibWVzc2FnZVwiOiBcIlVzZXIgbm90IGZvdW5kIGNoZWNrIHRva2VuIHBsZWFzZVwifSk7XG5cblxuICAgIH1cbiAgfSxcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbnVwZGF0ZWNhcnN0YXR1cyhyZXEsIHJlcykge1xuXG5cbiAgdmFyIHRva2VuID0gcmVxLmhlYWRlcnNbJ2FjY2Vzcy10b2tlbiddO1xuICAgIHZhciBuZXdfcHJpY2U9cmVxLnBhcmFtcy5uZXdfcHJpY2U7XG4gICAgY29uc3QgcmVmbGVjdGlvbiA9IFJlZmxlY3Rpb25Nb2RlbC5maW5kQ2FyT25lKHJlcS5wYXJhbXMuaWQpO1xuICAgIC8qXG4gICAgaWYgKCFyZWZsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoeydtZXNzYWdlJzogJyBJRCBlcnJvciAgQ2FuIG5vdCB1cGRhdGUgY2FyIHN0dXRhcyB0byBzb2xkICAgJ30pO1xuICAgIH1cbiAgICAqL1xuICAgIGNvbnN0IHVwZGF0ZWRSZWZsZWN0aW9uID0gUmVmbGVjdGlvbk1vZGVsLnVwZGF0ZWNhcnN0YXR1cyhyZXEucGFyYW1zLmlkLCByZXEuYm9keSx0b2tlbilcbiAgICAgdmFyIGtleXJlZmxlY3Rpb24gPSBPYmplY3Qua2V5cyh1cGRhdGVkUmVmbGVjdGlvbikubGVuZ3RoO1xuICAgaWYgKGtleXJlZmxlY3Rpb24gPiAyKXtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoe1wic3RhdHVzXCI6MjAwICwgXCJtZXNzYWdlXCI6IFwiIHN1Y2Nlc3NmdWxseSB1cGRhdGVkICBjYXIgc3RhdHVzIHRvIHNvbGRcIiwgXCJkYXRhXCIgOnVwZGF0ZWRSZWZsZWN0aW9ufSk7XG4gIH1cbiAgZWxzZSB7XG5yZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQoe1wic3RhdHVzXCI6MjAxICwgXCJtZXNzYWdlXCI6IFwiIENhciBBZCBTdGF0dXMgbm90IHVwZGF0ZWQgXCIsIFwiZGF0YVwiIDp1cGRhdGVkUmVmbGVjdGlvbn0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHtcInN0YXR1c1wiOjQwNCAsIFwibWVzc2FnZVwiOiBcIlVzZXIgbm90IGZvdW5kIGNoZWNrIHRva2VuIHBsZWFzZVwifSk7XG5cblxuICB9XG4gIH0sXG5cbiAgdXBkYXRlY2FycHJpY2UocmVxLCByZXMpIHtcbiAgICB2YXIgdG9rZW4gPSByZXEuaGVhZGVyc1snYWNjZXNzLXRva2VuJ107XG4gICAgdmFyIGNhcl9wcmljZT1yZXEucGFyYW1zLmNhcl9wcmljZTtcbiAgICBjb25zdCByZWZsZWN0aW9uID0gUmVmbGVjdGlvbk1vZGVsLmZpbmRDYXJPbmUocmVxLnBhcmFtcy5pZCk7XG4gICAgLypcbiAgICBpZiAoIXJlZmxlY3Rpb24pIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7J21lc3NhZ2UnOiAnIGNhcl9wcmljZSBub3QgdXBkYXRlZCAgJ30pO1xuICAgIH1cbiAgICAqL1xuICAgIGNvbnN0IHVwZGF0ZWRSZWZsZWN0aW9uID0gUmVmbGVjdGlvbk1vZGVsLnVwZGF0ZWNhcnByaWNlKHJlcS5wYXJhbXMuaWQsIHJlcS5ib2R5LCB0b2tlbiApXG4gICAgdmFyIGtleXJlZmxlY3Rpb24gPSBPYmplY3Qua2V5cyh1cGRhdGVkUmVmbGVjdGlvbikubGVuZ3RoO1xuICAgIGlmIChrZXlyZWZsZWN0aW9uID4gMil7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcInN0YXR1c1wiOjIwMCAsIFwibWVzc2FnZVwiOiBcIiBzdWNjZXNzZnVsbHkgdXBkYXRlZCBcIiwgXCJkYXRhXCIgOnVwZGF0ZWRSZWZsZWN0aW9ufSk7XG4gICAgfVxuICBlbHNlIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuc2VuZCh7XCJzdGF0dXNcIjoyMDEgLCBcIm1lc3NhZ2VcIjogXCIgQ2FyIHByaWNlIG5vdCB1cGRhdGVkIFwiLCBcImRhdGFcIiA6dXBkYXRlZFJlZmxlY3Rpb259KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3JldHVybiByZXMuc3RhdHVzKDIwMSkuc2VuZCh7XCJzdGF0dXNcIjo0MDQgLCBcIm1lc3NhZ2VcIjogXCJVc2VyIG5vdCBmb3VuZCBjaGVjayB0b2tlbiBwbGVhc2VcIn0pO1xuXG5cbiAgfVxuXG4gIH0sXG5cblxuICAvKipcbiAgICogXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXEgXG5cbiAgICogQHBhcmFtIHtvYmplY3R9IHJlcyBcbiAgICogQHJldHVybnMge3ZvaWR9IHJldHVybiBzdGF0dWMgY29kZSAyMDQgXG4gICAqL1xuXG4gICBcbiAgIGRlbGV0ZWNhcmFkKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgcmVmbGVjdGlvbiA9IFJlZmxlY3Rpb25Nb2RlbC5maW5kQ2FyT25lKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmICghcmVmbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsnbWVzc2FnZSc6ICdjYXIgaWQgIG5vdCBmb3VuZCd9KTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcmVmID0gUmVmbGVjdGlvbk1vZGVsLmRlbGV0ZWNhcmFkKHJlcS5wYXJhbXMuaWQpO1xuICAgIGNvbnN0IHJlZmxlY3Rpb254ID0gUmVmbGVjdGlvbk1vZGVsLmZpbmRDYXJPbmUocmVxLnBhcmFtcy5pZCk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsnc3RhdHVzJzowICwnbWVzc2FnZSc6ICdDYXIgQWQgc3VjY2Vzc2Z1bGx5IGRlbGV0ZWQnfSk7XG4gICAgLy9yZXR1cm4gcmVzLnN0YXR1cygyMDQpLnNlbmQobWUpO1xuICAgICAgICBcbiAgfSxcblxuXG5cbiAgZGVsZXRlKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgcmVmbGVjdGlvbiA9IFJlZmxlY3Rpb25Nb2RlbC5maW5kT25lKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmICghcmVmbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsnbWVzc2FnZSc6ICdyZWZsZWN0aW9uIG5vdCBmb3VuZCd9KTtcbiAgICB9XG4gICAgY29uc3QgcmVmID0gUmVmbGVjdGlvbk1vZGVsLmRlbGV0ZShyZXEucGFyYW1zLmlkKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDQpLnNlbmQocmVmKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSZWZsZWN0aW9uOyJdfQ==