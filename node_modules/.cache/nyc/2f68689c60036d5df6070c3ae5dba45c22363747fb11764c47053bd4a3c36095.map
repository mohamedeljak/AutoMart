{"version":3,"sources":["Orders.js"],"names":["Reflection","constructor","reflections","reflectionssignin","reflectionscreatecaradd","reflectioncreateorder","create","data","newReflection","stutas","id","uuid","v4","email","first_name","last_name","token","address","is_admin","password","createdDate","moment","now","modifiedDate","push","createsignin","newReflectionsign","createcarad","reflection","user","find","reflect","reflectioncaraddnotfound","newReflectioncreatecarad","user_id","manufacture","model","price","parseFloat","state","status","created_on","modified_on","createorderad","car_id","console","log","reflectionodernotfound","reflectionfindcartoorder","car","reflectionfindcartoorderinorder","reflectionorercaridnotfound","reflectionorercaridnotfoundx","newReflectioncreateorder","price_offered","findOne","findoderOne","findCarOne","findA1","success","lowPoint","filter","findsoldcarpricerange","q","Object","keys","length","min_price","max_price","findsoldcars","findAll","findAllsigninusers","findAllcarsads","findAllorders","update","index","indexOf","takeAway","updateorderprice","reflectionx","reflectionfindsold","old_price_offered","new_price_offered","reflectioncaraddd","reflectionord","updatecarstatus","updatecarprice","deletecarad","splice","delete"],"mappings":"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","sourceRoot":"/home/mhashim/Desktop/NewWork/AutoMart/src/models","sourcesContent":["import moment from 'moment';\nimport uuid from 'uuid';\nimport user from '../models/user';\nimport car from '../models/Cars';\nclass Reflection {\n  /**\n   * class constructor\n   * @param {object} data\n   */\n  constructor() {\n    this.reflections = [];\n    this.reflectionssignin = [];\n    this.reflectionscreatecaradd =[];\n    this. reflectioncreateorder = [];\n  }\n  /**\n   * \n   * @returns {object} reflection object\n   */\n  ///////////////////////////////Signup\n  create(data) {\n    const newReflection = {\n      stutas: '1' || ' ',\n      data :{\n\n         id: uuid.v4(),\n         email: data.email ,\n         first_name: data.first_name,\n         last_name: data.last_name,\n         token : uuid.v4(),\n         address :data.address ,\n         is_admin : data.is_admin ,\n         password : data.password\n         \n         },\n      createdDate: moment.now(),\n      modifiedDate: moment.now()\n    };\n    this.reflections.push(newReflection);\n    return newReflection\n  }\n  //////////////////////////////////////End signup\n  ///////////////////////////////Signin\n  createsignin(data) {\nconst newReflectionsign = {\n      stutas: '1',\n      data :{\n\n         id: uuid.v4(),\n         email: data.email ,\n         first_name: data.first_name,\n         last_name: data.last_name ,\n         token : uuid.v4(),\n         address :data.address ,\n         is_admin : data.is_admin ,\n         password : data.password\n         },\n      createdDate: moment.now(),\n      modifiedDate: moment.now()\n    };\n    this.reflectionssignin.push(newReflectionsign);\n    return newReflectionsign\n  }\n  //////////////////////////////////////End signin\n///////////////////////////////create car post ad\n  createcarad(data,token) {\n    //console.log(\"tokenmodel\"+token);\n    const reflection = user.reflections.find(reflect => reflect.token === token);\n    \n    if(!reflection){\n      const reflectioncaraddnotfound  = {\"status\":404 , \"message\": \"User not found check please\"};\n     //console.log(\"cccccccccc\"+reflectioncaraddnotfound);\n     return reflectioncaraddnotfound;\n\n       \n\n\n    }\n    else {\n      //console.log(\"found=\"+reflection.email);\n     const newReflectioncreatecarad = {\n    \n\n         id: uuid.v4(),\n         user_id:reflection.id,\n         email: reflection.email ,\n         manufacture:data.manufacture,\n         model: data.model ,\n         price: parseFloat(data.price),\n         state : data.state ,\n         status : data.status || 'available' ,\n         created_on: moment.now(),\n         modified_on: moment.now()\n         };\n    this.reflectionscreatecaradd.push(newReflectioncreatecarad);\n    return newReflectioncreatecarad\n\n    }\n\n    \n  }\n  //////////////////////////////////////create car post a\n  ///////////////////////////////create order post\n  createorderad(data,token,car_id) {\n    console.log(\"kkkkkkkkkkkkkkkkkkkkkkkkkkkk\");\n    const reflection = user.reflections.find(reflect => reflect.token === token);\n    \n    if(!reflection){\n      const reflectionodernotfound  = {\"status\":404 , \"message\": \"User not found check please\"};\n     return reflectionodernotfound ;\n       \n\n\n    }\n\n   else {\n     const reflectionfindcartoorder = car.reflectionscreatecaradd.find(reflect => reflect.id === car_id);\n      const reflectionfindcartoorderinorder = this.reflectioncreateorder.find(reflect => reflect.car_id === car_id);  \n   //   console.log(\"gggggggggggggggg\"+reflectionfindcartoorderinorder);\n      \n    if (!reflectionfindcartoorder){\n          const reflectionorercaridnotfound = {\"status\":404 , \"message\": \"this car ad not found\"};\n          return reflectionorercaridnotfound;\n          \n    } \n\n  else {\n\n if(reflectionfindcartoorderinorder){\n                 \n              const reflectionorercaridnotfoundx = {\"status\":404 , \"message\": \"this car  had already ordered\"};\n          return reflectionorercaridnotfoundx;\n\n          }\n\n\n else {\n    //console.log(\"carid\"+reflectionfindcartoorder.id);\n    const newReflectioncreateorder = {\n      \n\n         id: uuid.v4(),   \n         user_id:reflection.id,\n         car_id : reflectionfindcartoorder.id,\n         price: reflectionfindcartoorder.price,    \n         price_offered : parseFloat(data.price_offered),\n         status : 'available' ,\n         created_on: moment.now(),\n         modified_on: moment.now()\n        \n      \n    };\n    this.reflectioncreateorder.push(newReflectioncreateorder);\n    return newReflectioncreateorder\n  }\n  }\n  }\n  }\n  ////////////////////////////////////// end create order post\n\n\n\n  /**\n   * \n   * @param {uuid} id\n   * @returns {object} reflection object\n   */\n  findOne(id) {\n    return this.reflections.find(reflect => reflect.id === id);\n  }\n\n\n\n\n\n\n  \n\n  findoderOne(id) {\n    return this.reflectioncreateorder.find(reflect => reflect.id === id);\n  }\n\n  findCarOne(id) {\n    return this.reflectionscreatecaradd.find(reflect => reflect.id === id);\n  }\n\n\n\n  findA1(success , lowPoint) {\nreturn this.reflections.filter(( reflect => reflect.lowPoint === lowPoint) && (reflect => reflect.success === success));\n  }\n\nfindsoldcarpricerange(q) {\n//console.log(Object.keys(q).length);\n\n//console.log(q.status);\n//console.log(q.min_price);\n//console.log(q.max_price);\n  //console.log(min_price);\n  //console.log(max_price);\n    if(Object.keys(q).length === 0){\n   return this.reflectionscreatecaradd;\n\n    }\n\nelse if (Object.keys(q).length === 1) {\n   return this.reflectionscreatecaradd.filter((reflect => reflect.status === q.status ));\n\n   }\nelse {\n\n  return this.reflectionscreatecaradd.filter(\n    ( reflect => reflect.status === q.status)).filter(reflect => reflect.price > parseFloat(q.min_price)).filter(reflect => reflect.price < parseFloat(q.max_price));\n\n}\n  }\n\n  findsoldcars(q) {\n  \nreturn this.reflectionscreatecaradd.filter((reflect => reflect.data.status === status ));\n  }\n\n  \n  /**\n   * @returns {object} returns all reflections\n   */\n  findAll() {\n    return this.reflections;\n  }\n\n  findAllsigninusers() {\n    return this.reflectionssignin;\n  }\n\n  findAllcarsads() {\n    return this.reflectionscreatecaradd;\n  }\n\n  findAllorders() {\n    return this.reflectioncreateorder;\n  }\n  /**\n   * \n   * @param {uuid} id\n   * @param {object} data \n   */\n  update(id, data) {\n    const reflection = this.findOne(id);\n    const index = this.reflections.indexOf(reflection);\n    this.reflections[index].success = data['success'] || reflection.success;\n    this.reflections[index].lowPoint = data['lowPoint'] || reflection.lowPoint;\n    this.reflections[index].takeAway = data['takeAway'] || reflection.takeAway;\n    this.reflections[index].modifiedDate = moment.now()\n    return this.reflections[index];\n  }\n\n  \nupdateorderprice(id, data, token) {\n  //console.log(\"jjjjjjjjjjjjjjjjjjjjjjjjj\");\n    const reflection = this.findoderOne(id);\n    const index = this.reflectioncreateorder.indexOf(reflection);\n    const reflectionx = user.reflections.find(reflect => reflect.token === token);\n    \n    if(!reflectionx){\n      const reflectioncaraddnotfound  = {\"status\":404 , \"message\": \"User not found check please\"};\n     //console.log(\"cccccccccc\"+reflectioncaraddnotfound);\n     return reflectioncaraddnotfound;\n\n   }\n \n else {\n\n     if(reflection){\n   if (reflection.user_id === reflectionx.id){\n   const car_id = this.reflectioncreateorder[index].car_id;\n   console.log(\"looool=\"+car_id);    \n   const reflectionfindsold = car.findCarOne(car_id);\n  \n  \n    if (reflectionfindsold.status === \"available\"){\n\n    this.reflectioncreateorder[index].old_price_offered = data['price_offered'] || reflection.price_offered || reflection.new_price_offered  ;\n    this.reflectioncreateorder[index].price_offered = this.reflectioncreateorder[index].old_price_offered; \n    delete this.reflectioncreateorder[index].price_offered;\n   this.reflectioncreateorder[index].new_price_offered= data.price ;\n    /*\n    this.reflections[index].lowPoint = data['lowPoint'] || reflection.lowPoint;\n    this.reflections[index].takeAway = data['takeAway'] || reflection.takeAway;\n    this.reflections[index].modifiedDate = moment.now()\n    */\n    return this.reflectioncreateorder[index];\n  }\n  \n else {\nconst reflectioncaraddd = {\"status\":404 , \"message\": \"Sorry, you can not upate your offered price as this car already sold\"};\n          return reflectioncaraddd;\n  \n\n }\n\n\n\n  }\n  else {\n\n    const reflectioncaraddd = {\"status\":404 , \"message\": \"Sorry, you are not the order's Owner\"};\n          return reflectioncaraddd;\n  }\n\n  }//  end if refelction \n \n  else {\n \n     const reflectionord = {\"status\":404 , \"message\": \"Order not found\"};\n          return reflectionord;\n\n  }\n\n}\n  \n\n  }\n\n\n updatecarstatus(id, data, token) {\n    const reflection = this.findCarOne(id);\n    const index = this.reflectionscreatecaradd.indexOf(reflection);\n    const reflectionx = user.reflections.find(reflect => reflect.token === token);\n    if(!reflectionx){\n      const reflectioncaraddnotfound  = {\"status\":404 , \"message\": \"User not found check please\"};\n     //console.log(\"cccccccccc\"+reflectioncaraddnotfound);\n     return reflectioncaraddnotfound;\n\n   }\n\n   else{\n   if (reflection){   \n    if (reflection.user_id === reflectionx.id){\n    this.reflectionscreatecaradd[index].status = \"sold\" ;\n       \n    return this.reflectionscreatecaradd[index];\n  }\n\n  else {\n\n    const reflectioncaraddd = {\"status\":404 , \"message\": \"Sorry, you are not the ad's Owner\"};\n          return reflectioncaraddd;\n  }\n  }\n  else {\n    const reflectioncaraddd = {\"status\":404 , \"message\": \"car add not found to be updated to sold\"};\n          return reflectioncaraddd;\n\n  }\n}\n  }\n\n  updatecarprice(id, data, token) {\n    const reflection = this.findCarOne(id);\n    const index = this.reflectionscreatecaradd.indexOf(reflection);\n    \n    const reflectionx = user.reflections.find(reflect => reflect.token === token);\n    if(!reflectionx){\n      const reflectioncaraddnotfound  = {\"status\":404 , \"message\": \"User not found check please\"};\n     //console.log(\"cccccccccc\"+reflectioncaraddnotfound);\n     return reflectioncaraddnotfound;\n\n   }\n  else {\n\n    if(reflection){\n     //console.log(reflection.status)\n     if (reflection.status === \"available\"){    \n\n    if (reflection.user_id === reflectionx.id){\n      \n    this.reflectionscreatecaradd[index].price = parseFloat(data.price) ;\n       \n    return this.reflectionscreatecaradd[index];\n  }\n  else {\n\n    const reflectioncaraddd = {\"status\":404 , \"message\": \"Sorry, you are not the ad's Owner\"};\n          return reflectioncaraddd;\n  }\n\n  }\n  else {\n\n    const reflectioncaraddd = {\"status\":404 , \"message\": \"Can not Update this car is sold\"};\n          return reflectioncaraddd;\n  }\n    \n\n    }  // end if refelction\n    else {\n    const reflectioncaraddd = {\"status\":404 , \"message\": \"car add not found\"};\n          return reflectioncaraddd;\n\n    }\n    }\n  \n  }\n\n  /**\n   * \n   * @param {uuid} id \n   */\n\n   deletecarad(id) {\n    const reflection = this.findCarOne(id);\n    const index = this.reflectionscreatecaradd.indexOf(reflection);\n    this.reflectionscreatecaradd.splice(index, 1);\n    return {'message': 'car  Ad successfully deleted'};\n  }\n  delete(id) {\n    const reflection = this.findOne(id);\n    const index = this.reflections.indexOf(reflection);\n    this.reflections.splice(index, 1);\n    return {};\n  }\n}\nexport default new Reflection();"]}