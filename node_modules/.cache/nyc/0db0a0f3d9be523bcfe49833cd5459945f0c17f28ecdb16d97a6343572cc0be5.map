{"version":3,"sources":["createAdVali.js"],"names":["Joi","require","key","app","use","express","json","module","exports","req","res","next","data","body","schema","object","keys","manufacture","string","alphanum","required","price","number","validate","err","value","console","log","email","status","message"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;;;AACA;AACA,IAAMA,GAAG,GAAGC,OAAO,CAAC,KAAD,CAAnB;;AAGA,IAAMC,GAAG,GAAGD,OAAO,CAAC,OAAD,CAAnB;;AAEA,IAAME,GAAG,GAAG,0BAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQC,oBAAQC,IAAR,EAAR,E,CAIA;;AACAC,MAAM,CAACC,OAAP,GAAiB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACrC,MAAMC,IAAI,GAAGH,GAAG,CAACI,IAAjB;AACA,MAAMC,MAAM,GAAGd,GAAG,CAACe,MAAJ,GAAaC,IAAb,CAAkB;AAE7BC,IAAAA,WAAW,EAACjB,GAAG,CAACkB,MAAJ,GAAaC,QAAb,GAAwBC,QAAxB,EAFiB;AAG7BC,IAAAA,KAAK,EAAErB,GAAG,CAACsB,MAAJ,GAAaF,QAAb;AAHsB,GAAlB,CAAf;AAKGpB,EAAAA,GAAG,CAACuB,QAAJ,CAAaX,IAAb,EAAmBE,MAAnB,EAA2B,UAACU,GAAD,EAAMC,KAAN,EAAgB;AAC7C,QAAID,GAAJ,EAAS;AACGE,MAAAA,OAAO,CAACC,GAAR,CAAYb,MAAM,CAACc,KAAnB,EADH,CAEE;;AACAlB,MAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EAAgBvB,IAAhB,CAAqB;AACjBuB,QAAAA,MAAM,EAAE,OADS;AAEjBC,QAAAA,OAAO,EAAE;AAFQ,OAArB;AAMC,KATZ,MAUgB;AAERnB,MAAAA,IAAI;AAGA;AACZ,GAjBE;AAmBA,CA1BH","sourceRoot":"/home/mhashim/Desktop/NewWork/AutoMart/src/middlewares","sourcesContent":["import express from 'express';\nimport Reflection from '../controllers/Reflection';\nimport user from '../controllers/user';\nimport jwt from 'jsonwebtoken';\n//import tokenkey from './key';\nconst Joi = require('joi');\n\n\nconst key = require('./key');\n\nconst app = express()\napp.use(express.json())\n\n\n\n//app.use('/api/v1/car', ProtectedRoutes);\nmodule.exports = (req, res, next) => {\nconst data = req.body;\nconst schema = Joi.object().keys({\n    \n    manufacture:Joi.string().alphanum().required(),\n    price: Joi.number().required(),\n    });     \n   Joi.validate(data, schema, (err, value) => {\n if (err) {\n             console.log(schema.email);\n            // send a 422 error response if validation fails\n            res.status(422).json({\n                status: 'error',\n                message: 'Invalid request data',\n              \n            });\n            \n            }   \n            else {\n\n         next();\n\n\n            }\n});\n    \n  };\n "]}