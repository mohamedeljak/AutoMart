{"version":3,"sources":["SigninVali.js"],"names":["Joi","require","key","app","use","express","json","module","exports","req","res","next","data","body","schema","object","keys","email","string","required","password","alphanum","validate","err","value","console","log","status","message"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;;;AACA;AACA,MAAMA,GAAG,GAAGC,OAAO,CAAC,KAAD,CAAnB;;AAGA,MAAMC,GAAG,GAAGD,OAAO,CAAC,OAAD,CAAnB;;AAEA,MAAME,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQC,iBAAQC,IAAR,EAAR,E,CAIA;;AACAC,MAAM,CAACC,OAAP,GAAiB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACrC,QAAMC,IAAI,GAAGH,GAAG,CAACI,IAAjB;AACA,QAAMC,MAAM,GAAGd,GAAG,CAACe,MAAJ,GAAaC,IAAb,CAAkB;AAE7BC,IAAAA,KAAK,EAACjB,GAAG,CAACkB,MAAJ,GAAaD,KAAb,GAAqBE,QAArB,EAFuB;AAG7BC,IAAAA,QAAQ,EAAGpB,GAAG,CAACkB,MAAJ,GAAaG,QAAb,GAAwBF,QAAxB;AAHkB,GAAlB,CAAf;AAMGnB,EAAAA,GAAG,CAACsB,QAAJ,CAAaV,IAAb,EAAmBE,MAAnB,EAA2B,CAACS,GAAD,EAAMC,KAAN,KAAgB;AAC7C,QAAID,GAAJ,EAAS;AACGE,MAAAA,OAAO,CAACC,GAAR,CAAYZ,MAAM,CAACG,KAAnB,EADH,CAEE;;AACAP,MAAAA,GAAG,CAACiB,MAAJ,CAAW,GAAX,EAAgBrB,IAAhB,CAAqB;AACjBqB,QAAAA,MAAM,EAAE,OADS;AAEjBC,QAAAA,OAAO,EAAE;AAFQ,OAArB;AAMC,KATZ,MAUgB;AAERjB,MAAAA,IAAI;AAGA;AACZ,GAjBE;AAmBA,CA3BH","sourceRoot":"/home/mhashim/Desktop/NewWork/AutoMart/src/middlewares","sourcesContent":["import express from 'express';\nimport Reflection from '../controllers/Reflection';\nimport user from '../controllers/user';\nimport jwt from 'jsonwebtoken';\n//import tokenkey from './key';\nconst Joi = require('joi');\n\n\nconst key = require('./key');\n\nconst app = express()\napp.use(express.json())\n\n\n\n//app.use('/api/v1/car', ProtectedRoutes);\nmodule.exports = (req, res, next) => {\nconst data = req.body;\nconst schema = Joi.object().keys({\n    \n    email:Joi.string().email().required(),\n    password : Joi.string().alphanum().required()\n\n    });     \n   Joi.validate(data, schema, (err, value) => {\n if (err) {\n             console.log(schema.email);\n            // send a 422 error response if validation fails\n            res.status(422).json({\n                status: 'error',\n                message: 'Invalid request data',\n              \n            });\n            \n            }   \n            else {\n\n         next();\n\n\n            }\n});\n    \n  };\n "]}