"use strict";var cov_1yur667o27=function(){var path="/home/mhashim/Desktop/NewWork/AutoMart/src/controllers/Orders.js";var hash="4919216f5689f88881c326d86661353423be5e67";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/mhashim/Desktop/NewWork/AutoMart/src/controllers/Orders.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:28}},"2":{start:{line:8,column:18},end:{line:8,column:73}},"3":{start:{line:10,column:14},end:{line:10,column:65}},"4":{start:{line:12,column:39},end:{line:12,column:95}},"5":{start:{line:14,column:10},end:{line:14,column:24}},"6":{start:{line:16,column:12},end:{line:371,column:1}},"7":{start:{line:24,column:4},end:{line:28,column:5}},"8":{start:{line:25,column:6},end:{line:27,column:9}},"9":{start:{line:30,column:21},end:{line:30,column:61}},"10":{start:{line:32,column:4},end:{line:32,column:44}},"11":{start:{line:35,column:4},end:{line:39,column:5}},"12":{start:{line:36,column:6},end:{line:38,column:9}},"13":{start:{line:41,column:21},end:{line:41,column:67}},"14":{start:{line:43,column:4},end:{line:43,column:44}},"15":{start:{line:46,column:16},end:{line:46,column:43}},"16":{start:{line:48,column:4},end:{line:52,column:5}},"17":{start:{line:49,column:6},end:{line:51,column:9}},"18":{start:{line:54,column:21},end:{line:54,column:68}},"19":{start:{line:56,column:24},end:{line:56,column:54}},"20":{start:{line:58,column:4},end:{line:71,column:5}},"21":{start:{line:59,column:6},end:{line:63,column:9}},"22":{start:{line:66,column:6},end:{line:70,column:9}},"23":{start:{line:74,column:16},end:{line:74,column:43}},"24":{start:{line:76,column:4},end:{line:80,column:5}},"25":{start:{line:77,column:6},end:{line:79,column:9}},"26":{start:{line:82,column:21},end:{line:82,column:89}},"27":{start:{line:84,column:24},end:{line:84,column:54}},"28":{start:{line:86,column:4},end:{line:98,column:5}},"29":{start:{line:87,column:6},end:{line:91,column:9}},"30":{start:{line:93,column:6},end:{line:97,column:9}},"31":{start:{line:109,column:22},end:{line:109,column:50}},"32":{start:{line:111,column:4},end:{line:111,column:45}},"33":{start:{line:114,column:22},end:{line:114,column:61}},"34":{start:{line:116,column:4},end:{line:116,column:45}},"35":{start:{line:119,column:22},end:{line:119,column:57}},"36":{start:{line:121,column:4},end:{line:125,column:7}},"37":{start:{line:128,column:22},end:{line:128,column:56}},"38":{start:{line:130,column:4},end:{line:134,column:7}},"39":{start:{line:144,column:21},end:{line:144,column:62}},"40":{start:{line:146,column:4},end:{line:150,column:5}},"41":{start:{line:147,column:6},end:{line:149,column:9}},"42":{start:{line:152,column:4},end:{line:152,column:44}},"43":{start:{line:155,column:21},end:{line:155,column:66}},"44":{start:{line:157,column:4},end:{line:161,column:5}},"45":{start:{line:158,column:6},end:{line:160,column:9}},"46":{start:{line:163,column:4},end:{line:167,column:7}},"47":{start:{line:170,column:21},end:{line:170,column:65}},"48":{start:{line:172,column:4},end:{line:176,column:5}},"49":{start:{line:173,column:6},end:{line:175,column:9}},"50":{start:{line:178,column:4},end:{line:182,column:7}},"51":{start:{line:185,column:21},end:{line:185,column:85}},"52":{start:{line:187,column:4},end:{line:191,column:5}},"53":{start:{line:188,column:6},end:{line:190,column:9}},"54":{start:{line:193,column:4},end:{line:193,column:44}},"55":{start:{line:196,column:21},end:{line:196,column:72}},"56":{start:{line:198,column:4},end:{line:202,column:5}},"57":{start:{line:199,column:6},end:{line:201,column:9}},"58":{start:{line:204,column:4},end:{line:208,column:7}},"59":{start:{line:211,column:21},end:{line:211,column:63}},"60":{start:{line:213,column:4},end:{line:217,column:5}},"61":{start:{line:214,column:6},end:{line:216,column:9}},"62":{start:{line:219,column:4},end:{line:219,column:44}},"63":{start:{line:229,column:21},end:{line:229,column:62}},"64":{start:{line:231,column:4},end:{line:235,column:5}},"65":{start:{line:232,column:6},end:{line:234,column:9}},"66":{start:{line:237,column:28},end:{line:237,column:78}},"67":{start:{line:239,column:4},end:{line:239,column:51}},"68":{start:{line:242,column:16},end:{line:242,column:43}},"69":{start:{line:243,column:20},end:{line:243,column:40}},"70":{start:{line:245,column:21},end:{line:245,column:66}},"71":{start:{line:253,column:28},end:{line:253,column:95}},"72":{start:{line:255,column:4},end:{line:255,column:35}},"73":{start:{line:256,column:24},end:{line:256,column:61}},"74":{start:{line:258,column:4},end:{line:270,column:5}},"75":{start:{line:259,column:6},end:{line:263,column:9}},"76":{start:{line:265,column:6},end:{line:269,column:9}},"77":{start:{line:274,column:16},end:{line:274,column:43}},"78":{start:{line:275,column:20},end:{line:275,column:40}},"79":{start:{line:277,column:21},end:{line:277,column:65}},"80":{start:{line:285,column:28},end:{line:285,column:94}},"81":{start:{line:287,column:24},end:{line:287,column:61}},"82":{start:{line:289,column:4},end:{line:301,column:5}},"83":{start:{line:290,column:6},end:{line:294,column:9}},"84":{start:{line:296,column:6},end:{line:300,column:9}},"85":{start:{line:304,column:16},end:{line:304,column:43}},"86":{start:{line:305,column:20},end:{line:305,column:40}},"87":{start:{line:307,column:21},end:{line:307,column:65}},"88":{start:{line:315,column:28},end:{line:315,column:93}},"89":{start:{line:317,column:24},end:{line:317,column:61}},"90":{start:{line:319,column:4},end:{line:331,column:5}},"91":{start:{line:320,column:6},end:{line:324,column:9}},"92":{start:{line:326,column:6},end:{line:330,column:9}},"93":{start:{line:341,column:21},end:{line:341,column:65}},"94":{start:{line:343,column:4},end:{line:347,column:5}},"95":{start:{line:344,column:6},end:{line:346,column:9}},"96":{start:{line:349,column:14},end:{line:349,column:59}},"97":{start:{line:351,column:22},end:{line:351,column:66}},"98":{start:{line:353,column:4},end:{line:356,column:7}},"99":{start:{line:359,column:21},end:{line:359,column:62}},"100":{start:{line:361,column:4},end:{line:365,column:5}},"101":{start:{line:362,column:6},end:{line:364,column:9}},"102":{start:{line:367,column:14},end:{line:367,column:57}},"103":{start:{line:369,column:4},end:{line:369,column:37}},"104":{start:{line:372,column:15},end:{line:372,column:20}},"105":{start:{line:373,column:0},end:{line:373,column:30}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:12,column:9},end:{line:12,column:31}},loc:{start:{line:12,column:37},end:{line:12,column:97}},line:12},"1":{name:"create",decl:{start:{line:23,column:19},end:{line:23,column:25}},loc:{start:{line:23,column:36},end:{line:33,column:3}},line:23},"2":{name:"createsignin",decl:{start:{line:34,column:25},end:{line:34,column:37}},loc:{start:{line:34,column:48},end:{line:44,column:3}},line:34},"3":{name:"createcarad",decl:{start:{line:45,column:24},end:{line:45,column:35}},loc:{start:{line:45,column:46},end:{line:72,column:3}},line:45},"4":{name:"createorderad",decl:{start:{line:73,column:26},end:{line:73,column:39}},loc:{start:{line:73,column:50},end:{line:100,column:3}},line:73},"5":{name:"getAll",decl:{start:{line:108,column:19},end:{line:108,column:25}},loc:{start:{line:108,column:36},end:{line:112,column:3}},line:108},"6":{name:"getAllsigninusers",decl:{start:{line:113,column:30},end:{line:113,column:47}},loc:{start:{line:113,column:58},end:{line:117,column:3}},line:113},"7":{name:"getAllcarsads",decl:{start:{line:118,column:26},end:{line:118,column:39}},loc:{start:{line:118,column:50},end:{line:126,column:3}},line:118},"8":{name:"getAllorders",decl:{start:{line:127,column:25},end:{line:127,column:37}},loc:{start:{line:127,column:48},end:{line:135,column:3}},line:127},"9":{name:"getOne",decl:{start:{line:143,column:19},end:{line:143,column:25}},loc:{start:{line:143,column:36},end:{line:153,column:3}},line:143},"10":{name:"getOrderOne",decl:{start:{line:154,column:24},end:{line:154,column:35}},loc:{start:{line:154,column:46},end:{line:168,column:3}},line:154},"11":{name:"getOneCar",decl:{start:{line:169,column:22},end:{line:169,column:31}},loc:{start:{line:169,column:42},end:{line:183,column:3}},line:169},"12":{name:"getA1",decl:{start:{line:184,column:18},end:{line:184,column:23}},loc:{start:{line:184,column:34},end:{line:194,column:3}},line:184},"13":{name:"getunsoldcarpricerange",decl:{start:{line:195,column:35},end:{line:195,column:57}},loc:{start:{line:195,column:68},end:{line:209,column:3}},line:195},"14":{name:"getunsoldcar",decl:{start:{line:210,column:25},end:{line:210,column:37}},loc:{start:{line:210,column:48},end:{line:220,column:3}},line:210},"15":{name:"update",decl:{start:{line:228,column:19},end:{line:228,column:25}},loc:{start:{line:228,column:36},end:{line:240,column:3}},line:228},"16":{name:"updateorderprice",decl:{start:{line:241,column:29},end:{line:241,column:45}},loc:{start:{line:241,column:56},end:{line:271,column:3}},line:241},"17":{name:"updatecarstatus",decl:{start:{line:273,column:28},end:{line:273,column:43}},loc:{start:{line:273,column:54},end:{line:302,column:3}},line:273},"18":{name:"updatecarprice",decl:{start:{line:303,column:27},end:{line:303,column:41}},loc:{start:{line:303,column:52},end:{line:332,column:3}},line:303},"19":{name:"deletecarad",decl:{start:{line:340,column:24},end:{line:340,column:35}},loc:{start:{line:340,column:46},end:{line:357,column:3}},line:340},"20":{name:"_delete",decl:{start:{line:358,column:21},end:{line:358,column:28}},loc:{start:{line:358,column:39},end:{line:370,column:3}},line:358}},branchMap:{"0":{loc:{start:{line:12,column:46},end:{line:12,column:94}},type:"cond-expr",locations:[{start:{line:12,column:70},end:{line:12,column:73}},{start:{line:12,column:76},end:{line:12,column:94}}],line:12},"1":{loc:{start:{line:12,column:46},end:{line:12,column:67}},type:"binary-expr",locations:[{start:{line:12,column:46},end:{line:12,column:49}},{start:{line:12,column:53},end:{line:12,column:67}}],line:12},"2":{loc:{start:{line:24,column:4},end:{line:28,column:5}},type:"if",locations:[{start:{line:24,column:4},end:{line:28,column:5}},{start:{line:24,column:4},end:{line:28,column:5}}],line:24},"3":{loc:{start:{line:24,column:8},end:{line:24,column:84}},type:"binary-expr",locations:[{start:{line:24,column:8},end:{line:24,column:28}},{start:{line:24,column:32},end:{line:24,column:57}},{start:{line:24,column:61},end:{line:24,column:84}}],line:24},"4":{loc:{start:{line:35,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:35,column:4},end:{line:39,column:5}},{start:{line:35,column:4},end:{line:39,column:5}}],line:35},"5":{loc:{start:{line:35,column:8},end:{line:35,column:84}},type:"binary-expr",locations:[{start:{line:35,column:8},end:{line:35,column:28}},{start:{line:35,column:32},end:{line:35,column:57}},{start:{line:35,column:61},end:{line:35,column:84}}],line:35},"6":{loc:{start:{line:48,column:4},end:{line:52,column:5}},type:"if",locations:[{start:{line:48,column:4},end:{line:52,column:5}},{start:{line:48,column:4},end:{line:52,column:5}}],line:48},"7":{loc:{start:{line:48,column:8},end:{line:48,column:48}},type:"binary-expr",locations:[{start:{line:48,column:8},end:{line:48,column:29}},{start:{line:48,column:33},end:{line:48,column:48}}],line:48},"8":{loc:{start:{line:58,column:4},end:{line:71,column:5}},type:"if",locations:[{start:{line:58,column:4},end:{line:71,column:5}},{start:{line:58,column:4},end:{line:71,column:5}}],line:58},"9":{loc:{start:{line:76,column:4},end:{line:80,column:5}},type:"if",locations:[{start:{line:76,column:4},end:{line:80,column:5}},{start:{line:76,column:4},end:{line:80,column:5}}],line:76},"10":{loc:{start:{line:86,column:4},end:{line:98,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:98,column:5}},{start:{line:86,column:4},end:{line:98,column:5}}],line:86},"11":{loc:{start:{line:146,column:4},end:{line:150,column:5}},type:"if",locations:[{start:{line:146,column:4},end:{line:150,column:5}},{start:{line:146,column:4},end:{line:150,column:5}}],line:146},"12":{loc:{start:{line:157,column:4},end:{line:161,column:5}},type:"if",locations:[{start:{line:157,column:4},end:{line:161,column:5}},{start:{line:157,column:4},end:{line:161,column:5}}],line:157},"13":{loc:{start:{line:172,column:4},end:{line:176,column:5}},type:"if",locations:[{start:{line:172,column:4},end:{line:176,column:5}},{start:{line:172,column:4},end:{line:176,column:5}}],line:172},"14":{loc:{start:{line:187,column:4},end:{line:191,column:5}},type:"if",locations:[{start:{line:187,column:4},end:{line:191,column:5}},{start:{line:187,column:4},end:{line:191,column:5}}],line:187},"15":{loc:{start:{line:198,column:4},end:{line:202,column:5}},type:"if",locations:[{start:{line:198,column:4},end:{line:202,column:5}},{start:{line:198,column:4},end:{line:202,column:5}}],line:198},"16":{loc:{start:{line:213,column:4},end:{line:217,column:5}},type:"if",locations:[{start:{line:213,column:4},end:{line:217,column:5}},{start:{line:213,column:4},end:{line:217,column:5}}],line:213},"17":{loc:{start:{line:231,column:4},end:{line:235,column:5}},type:"if",locations:[{start:{line:231,column:4},end:{line:235,column:5}},{start:{line:231,column:4},end:{line:235,column:5}}],line:231},"18":{loc:{start:{line:258,column:4},end:{line:270,column:5}},type:"if",locations:[{start:{line:258,column:4},end:{line:270,column:5}},{start:{line:258,column:4},end:{line:270,column:5}}],line:258},"19":{loc:{start:{line:289,column:4},end:{line:301,column:5}},type:"if",locations:[{start:{line:289,column:4},end:{line:301,column:5}},{start:{line:289,column:4},end:{line:301,column:5}}],line:289},"20":{loc:{start:{line:319,column:4},end:{line:331,column:5}},type:"if",locations:[{start:{line:319,column:4},end:{line:331,column:5}},{start:{line:319,column:4},end:{line:331,column:5}}],line:319},"21":{loc:{start:{line:343,column:4},end:{line:347,column:5}},type:"if",locations:[{start:{line:343,column:4},end:{line:347,column:5}},{start:{line:343,column:4},end:{line:347,column:5}}],line:343},"22":{loc:{start:{line:361,column:4},end:{line:365,column:5}},type:"if",locations:[{start:{line:361,column:4},end:{line:365,column:5}},{start:{line:361,column:4},end:{line:365,column:5}}],line:361}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"4919216f5689f88881c326d86661353423be5e67"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();cov_1yur667o27.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1yur667o27.s[1]++;exports["default"]=void 0;var _Reflection=(cov_1yur667o27.s[2]++,_interopRequireDefault(require("../models/Reflection")));var _Orders=(cov_1yur667o27.s[3]++,_interopRequireDefault(require("../models/Orders")));function _interopRequireDefault(obj){cov_1yur667o27.f[0]++;cov_1yur667o27.s[4]++;return(cov_1yur667o27.b[1][0]++,obj)&&(cov_1yur667o27.b[1][1]++,obj.__esModule)?(cov_1yur667o27.b[0][0]++,obj):(cov_1yur667o27.b[0][1]++,{"default":obj});}var Joi=(cov_1yur667o27.s[5]++,require('joi'));var Order=(cov_1yur667o27.s[6]++,{/**
   * 
   * @param {object} req 
   * @param {object} res
   * @returns {object} reflection object 
   */create:function create(req,res){cov_1yur667o27.f[1]++;cov_1yur667o27.s[7]++;if((cov_1yur667o27.b[3][0]++,!req.body.data.email)||(cov_1yur667o27.b[3][1]++,!req.body.data.first_name)||(cov_1yur667o27.b[3][2]++,!req.body.data.password)){cov_1yur667o27.b[2][0]++;cov_1yur667o27.s[8]++;return res.status(400).send({'message':' signup All fields are required'});}else{cov_1yur667o27.b[2][1]++;}var reflection=(cov_1yur667o27.s[9]++,_Orders["default"].create(req.body.data));cov_1yur667o27.s[10]++;return res.status(201).send(reflection);},createsignin:function createsignin(req,res){cov_1yur667o27.f[2]++;cov_1yur667o27.s[11]++;if((cov_1yur667o27.b[5][0]++,!req.body.data.email)||(cov_1yur667o27.b[5][1]++,!req.body.data.first_name)||(cov_1yur667o27.b[5][2]++,!req.body.data.password)){cov_1yur667o27.b[4][0]++;cov_1yur667o27.s[12]++;return res.status(400).send({'message':' SigninAll fields are required'});}else{cov_1yur667o27.b[4][1]++;}var reflection=(cov_1yur667o27.s[13]++,_Orders["default"].createsignin(req.body.data));cov_1yur667o27.s[14]++;return res.status(201).send(reflection);},createcarad:function createcarad(req,res){cov_1yur667o27.f[3]++;var token=(cov_1yur667o27.s[15]++,req.headers['access-token']);//console.log("token==="+token);
cov_1yur667o27.s[16]++;if((cov_1yur667o27.b[7][0]++,!req.body.manufacture)||(cov_1yur667o27.b[7][1]++,!req.body.price)){cov_1yur667o27.b[6][0]++;cov_1yur667o27.s[17]++;return res.status(400).send({'message':'  car ad  All fields are required'});}else{cov_1yur667o27.b[6][1]++;}var reflection=(cov_1yur667o27.s[18]++,_Orders["default"].createcarad(req.body,token));var keyreflection=(cov_1yur667o27.s[19]++,Object.keys(reflection).length);//console.log("xxxxxxxxxx"+keyreflection); 
cov_1yur667o27.s[20]++;if(keyreflection>2){cov_1yur667o27.b[8][0]++;cov_1yur667o27.s[21]++;return res.status(201).send({"status":201,"message":"Car AD  is created","data":reflection});}else{cov_1yur667o27.b[8][1]++;cov_1yur667o27.s[22]++;//console.log(ReflectionModel.createcarad.reflectioncaraddnotfound);
return res.status(201).send({"status":201,"message":" Car ad not created ","data":reflection});//return res.status(201).send({"status":404 , "message": "User not found check token please"});
}},createorderad:function createorderad(req,res){cov_1yur667o27.f[4]++;var token=(cov_1yur667o27.s[23]++,req.headers['access-token']);cov_1yur667o27.s[24]++;if(!req.body.price_offered){cov_1yur667o27.b[9][0]++;cov_1yur667o27.s[25]++;return res.status(400).send({'message':'  order ad  All fields are required'});}else{cov_1yur667o27.b[9][1]++;}var reflection=(cov_1yur667o27.s[26]++,_Orders["default"].createorderad(req.body,token,req.params.car_id));var keyreflection=(cov_1yur667o27.s[27]++,Object.keys(reflection).length);cov_1yur667o27.s[28]++;if(keyreflection>2){cov_1yur667o27.b[10][0]++;cov_1yur667o27.s[29]++;return res.status(201).send({"status":201,"message":"Buy Order  is created","data":reflection});}else{cov_1yur667o27.b[10][1]++;cov_1yur667o27.s[30]++;return res.status(201).send({"status":201,"message":" Order ad not created ","data":reflection});}//////////////////////if ok 
},/**
   * 
   * @param {object} req 
   * @param {object} res 
   * @returns {object} reflections array
   */getAll:function getAll(req,res){cov_1yur667o27.f[5]++;var reflections=(cov_1yur667o27.s[31]++,_Orders["default"].findAll());cov_1yur667o27.s[32]++;return res.status(200).send(reflections);},getAllsigninusers:function getAllsigninusers(req,res){cov_1yur667o27.f[6]++;var reflections=(cov_1yur667o27.s[33]++,_Orders["default"].findAllsigninusers());cov_1yur667o27.s[34]++;return res.status(200).send(reflections);},getAllcarsads:function getAllcarsads(req,res){cov_1yur667o27.f[7]++;var reflections=(cov_1yur667o27.s[35]++,_Orders["default"].findAllcarsads());cov_1yur667o27.s[36]++;return res.status(200).send({"status":200,"message":"all cars ","data":reflections});},getAllorders:function getAllorders(req,res){cov_1yur667o27.f[8]++;var reflections=(cov_1yur667o27.s[37]++,_Orders["default"].findAllorders());cov_1yur667o27.s[38]++;return res.status(200).send({"status":200,"message":"all orders ","data":reflections});},/**
   * 
   * @param {object} req 
   * @param {object} res
   * @returns {object} reflection object
   */getOne:function getOne(req,res){cov_1yur667o27.f[9]++;var reflection=(cov_1yur667o27.s[39]++,_Orders["default"].findOne(req.params.id));cov_1yur667o27.s[40]++;if(!reflection){cov_1yur667o27.b[11][0]++;cov_1yur667o27.s[41]++;return res.status(404).send({'message':'reflection not found'});}else{cov_1yur667o27.b[11][1]++;}cov_1yur667o27.s[42]++;return res.status(200).send(reflection);},getOrderOne:function getOrderOne(req,res){cov_1yur667o27.f[10]++;var reflection=(cov_1yur667o27.s[43]++,_Orders["default"].findoderOne(req.params.id));cov_1yur667o27.s[44]++;if(!reflection){cov_1yur667o27.b[12][0]++;cov_1yur667o27.s[45]++;return res.status(404).send({'message':' Order not found not found'});}else{cov_1yur667o27.b[12][1]++;}cov_1yur667o27.s[46]++;return res.status(200).send({"status":200,"message":" Get order ad by id ","data":reflection});},getOneCar:function getOneCar(req,res){cov_1yur667o27.f[11]++;var reflection=(cov_1yur667o27.s[47]++,_Orders["default"].findCarOne(req.params.id));cov_1yur667o27.s[48]++;if(!reflection){cov_1yur667o27.b[13][0]++;cov_1yur667o27.s[49]++;return res.status(404).send({'message':' Car found not found'});}else{cov_1yur667o27.b[13][1]++;}cov_1yur667o27.s[50]++;return res.status(200).send({"status":200,"message":" Get car ad by id ","data":reflection});},getA1:function getA1(req,res){cov_1yur667o27.f[12]++;var reflection=(cov_1yur667o27.s[51]++,_Orders["default"].findA1(req.query.success,req.query.lowPoint));cov_1yur667o27.s[52]++;if(!reflection){cov_1yur667o27.b[14][0]++;cov_1yur667o27.s[53]++;return res.status(404).send({'message':'reflection seach  not found'});}else{cov_1yur667o27.b[14][1]++;}cov_1yur667o27.s[54]++;return res.status(200).send(reflection);},getunsoldcarpricerange:function getunsoldcarpricerange(req,res){cov_1yur667o27.f[13]++;var reflection=(cov_1yur667o27.s[55]++,_Orders["default"].findsoldcarpricerange(req.query));cov_1yur667o27.s[56]++;if(!reflection){cov_1yur667o27.b[15][0]++;cov_1yur667o27.s[57]++;return res.status(404).send({'message':'  unsold price  seach  not found'});}else{cov_1yur667o27.b[15][1]++;}cov_1yur667o27.s[58]++;return res.status(200).send({"status":200,"message":"all cars ","data":reflection});},getunsoldcar:function getunsoldcar(req,res){cov_1yur667o27.f[14]++;var reflection=(cov_1yur667o27.s[59]++,_Orders["default"].findsoldcars(req.query));cov_1yur667o27.s[60]++;if(!reflection){cov_1yur667o27.b[16][0]++;cov_1yur667o27.s[61]++;return res.status(404).send({'message':'No availabe car'});}else{cov_1yur667o27.b[16][1]++;}cov_1yur667o27.s[62]++;return res.status(200).send(reflection);},/**
   * 
   * @param {object} req 
   * @param {object} res 
   * @returns {object} updated reflection
   */update:function update(req,res){cov_1yur667o27.f[15]++;var reflection=(cov_1yur667o27.s[63]++,_Orders["default"].findOne(req.params.id));cov_1yur667o27.s[64]++;if(!reflection){cov_1yur667o27.b[17][0]++;cov_1yur667o27.s[65]++;return res.status(404).send({'message':'reflection not found'});}else{cov_1yur667o27.b[17][1]++;}var updatedReflection=(cov_1yur667o27.s[66]++,_Orders["default"].update(req.params.id,req.body));cov_1yur667o27.s[67]++;return res.status(200).send(updatedReflection);},updateorderprice:function updateorderprice(req,res){cov_1yur667o27.f[16]++;var token=(cov_1yur667o27.s[68]++,req.headers['access-token']);var new_price=(cov_1yur667o27.s[69]++,req.params.new_price);var reflection=(cov_1yur667o27.s[70]++,_Orders["default"].findoderOne(req.params.id));/*
    if (!reflection) {
      return res.status(404).send({'message': ' update  order  not found'});
    }
    */var updatedReflection=(cov_1yur667o27.s[71]++,_Orders["default"].updateorderprice(req.params.id,req.body,token));cov_1yur667o27.s[72]++;console.log(updatedReflection);var keyreflection=(cov_1yur667o27.s[73]++,Object.keys(updatedReflection).length);cov_1yur667o27.s[74]++;if(keyreflection>2){cov_1yur667o27.b[18][0]++;cov_1yur667o27.s[75]++;return res.status(200).send({"status":200,"message":" successfully updated ","data":updatedReflection});}else{cov_1yur667o27.b[18][1]++;cov_1yur667o27.s[76]++;return res.status(201).send({"status":201,"message":" order offered price not updated ","data":updatedReflection});//return res.status(201).send({"status":404 , "message": "User not found check token please"});
}},/////////////////////////////////////////
updatecarstatus:function updatecarstatus(req,res){cov_1yur667o27.f[17]++;var token=(cov_1yur667o27.s[77]++,req.headers['access-token']);var new_price=(cov_1yur667o27.s[78]++,req.params.new_price);var reflection=(cov_1yur667o27.s[79]++,_Orders["default"].findCarOne(req.params.id));/*
    if (!reflection) {
      return res.status(404).send({'message': ' ID error  Can not update car stutas to sold   '});
    }
    */var updatedReflection=(cov_1yur667o27.s[80]++,_Orders["default"].updatecarstatus(req.params.id,req.body,token));var keyreflection=(cov_1yur667o27.s[81]++,Object.keys(updatedReflection).length);cov_1yur667o27.s[82]++;if(keyreflection>2){cov_1yur667o27.b[19][0]++;cov_1yur667o27.s[83]++;return res.status(200).send({"status":200,"message":" successfully updated  car status to sold","data":updatedReflection});}else{cov_1yur667o27.b[19][1]++;cov_1yur667o27.s[84]++;return res.status(201).send({"status":201,"message":" Car Ad Status not updated ","data":updatedReflection});//return res.status(201).send({"status":404 , "message": "User not found check token please"});
}},updatecarprice:function updatecarprice(req,res){cov_1yur667o27.f[18]++;var token=(cov_1yur667o27.s[85]++,req.headers['access-token']);var car_price=(cov_1yur667o27.s[86]++,req.params.car_price);var reflection=(cov_1yur667o27.s[87]++,_Orders["default"].findCarOne(req.params.id));/*
    if (!reflection) {
      return res.status(404).send({'message': ' car_price not updated  '});
    }
    */var updatedReflection=(cov_1yur667o27.s[88]++,_Orders["default"].updatecarprice(req.params.id,req.body,token));var keyreflection=(cov_1yur667o27.s[89]++,Object.keys(updatedReflection).length);cov_1yur667o27.s[90]++;if(keyreflection>2){cov_1yur667o27.b[20][0]++;cov_1yur667o27.s[91]++;return res.status(200).send({"status":200,"message":" successfully updated ","data":updatedReflection});}else{cov_1yur667o27.b[20][1]++;cov_1yur667o27.s[92]++;return res.status(201).send({"status":201,"message":" Car price not updated ","data":updatedReflection});//return res.status(201).send({"status":404 , "message": "User not found check token please"});
}},/**
   * 
   * @param {object} req 
    * @param {object} res 
   * @returns {void} return statuc code 204 
   */deletecarad:function deletecarad(req,res){cov_1yur667o27.f[19]++;var reflection=(cov_1yur667o27.s[93]++,_Orders["default"].findCarOne(req.params.id));cov_1yur667o27.s[94]++;if(!reflection){cov_1yur667o27.b[21][0]++;cov_1yur667o27.s[95]++;return res.status(404).send({'message':'car id  not found'});}else{cov_1yur667o27.b[21][1]++;}var ref=(cov_1yur667o27.s[96]++,_Orders["default"].deletecarad(req.params.id));var reflectionx=(cov_1yur667o27.s[97]++,_Orders["default"].findCarOne(req.params.id));cov_1yur667o27.s[98]++;return res.status(404).send({'status':0,'message':'Car Ad successfully deleted'});//return res.status(204).send(me);
},"delete":function _delete(req,res){cov_1yur667o27.f[20]++;var reflection=(cov_1yur667o27.s[99]++,_Orders["default"].findOne(req.params.id));cov_1yur667o27.s[100]++;if(!reflection){cov_1yur667o27.b[22][0]++;cov_1yur667o27.s[101]++;return res.status(404).send({'message':'reflection not found'});}else{cov_1yur667o27.b[22][1]++;}var ref=(cov_1yur667o27.s[102]++,_Orders["default"]["delete"](req.params.id));cov_1yur667o27.s[103]++;return res.status(204).send(ref);}});var _default=(cov_1yur667o27.s[104]++,Order);cov_1yur667o27.s[105]++;exports["default"]=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk9yZGVycy5qcyJdLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwiT3JkZXIiLCJjcmVhdGUiLCJyZXEiLCJyZXMiLCJib2R5IiwiZGF0YSIsImVtYWlsIiwiZmlyc3RfbmFtZSIsInBhc3N3b3JkIiwic3RhdHVzIiwic2VuZCIsInJlZmxlY3Rpb24iLCJPcmRlck1vZGVsIiwiY3JlYXRlc2lnbmluIiwiY3JlYXRlY2FyYWQiLCJ0b2tlbiIsImhlYWRlcnMiLCJtYW51ZmFjdHVyZSIsInByaWNlIiwia2V5cmVmbGVjdGlvbiIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJjcmVhdGVvcmRlcmFkIiwicHJpY2Vfb2ZmZXJlZCIsInBhcmFtcyIsImNhcl9pZCIsImdldEFsbCIsInJlZmxlY3Rpb25zIiwiZmluZEFsbCIsImdldEFsbHNpZ25pbnVzZXJzIiwiZmluZEFsbHNpZ25pbnVzZXJzIiwiZ2V0QWxsY2Fyc2FkcyIsImZpbmRBbGxjYXJzYWRzIiwiZ2V0QWxsb3JkZXJzIiwiZmluZEFsbG9yZGVycyIsImdldE9uZSIsImZpbmRPbmUiLCJpZCIsImdldE9yZGVyT25lIiwiZmluZG9kZXJPbmUiLCJnZXRPbmVDYXIiLCJmaW5kQ2FyT25lIiwiZ2V0QTEiLCJmaW5kQTEiLCJxdWVyeSIsInN1Y2Nlc3MiLCJsb3dQb2ludCIsImdldHVuc29sZGNhcnByaWNlcmFuZ2UiLCJmaW5kc29sZGNhcnByaWNlcmFuZ2UiLCJnZXR1bnNvbGRjYXIiLCJmaW5kc29sZGNhcnMiLCJ1cGRhdGUiLCJ1cGRhdGVkUmVmbGVjdGlvbiIsInVwZGF0ZW9yZGVycHJpY2UiLCJuZXdfcHJpY2UiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlY2Fyc3RhdHVzIiwidXBkYXRlY2FycHJpY2UiLCJjYXJfcHJpY2UiLCJkZWxldGVjYXJhZCIsInJlZiIsInJlZmxlY3Rpb254Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFDQSxJQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FB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bUJBQVc7QUFBWixPQUFyQixDQUFQO0FBQ0Q7O0FBQ0QsUUFBTW9ELEdBQUcsR0FBR2xELDZCQUFrQlYsR0FBRyxDQUFDdUIsTUFBSixDQUFXYSxFQUE3QixDQUFaOztBQUNBLFdBQU9uQyxHQUFHLENBQUNNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQm9ELEdBQXJCLENBQVA7QUFDRDtBQXpRVyxDQUFkO2VBNFFlOUQsSyIsInNvdXJjZVJvb3QiOiIvaG9tZS9taGFzaGltL0Rlc2t0b3AvTmV3V29yay9BdXRvTWFydC9zcmMvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVmbGVjdGlvbk1vZGVsIGZyb20gJy4uL21vZGVscy9SZWZsZWN0aW9uJztcbmltcG9ydCBPcmRlck1vZGVsIGZyb20gJy4uL21vZGVscy9PcmRlcnMnO1xuY29uc3QgSm9pID0gcmVxdWlyZSgnam9pJyk7XG5cbmNvbnN0IE9yZGVyID0ge1xuICAvKipcbiAgICogXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXEgXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXNcbiAgICogQHJldHVybnMge29iamVjdH0gcmVmbGVjdGlvbiBvYmplY3QgXG4gICAqL1xuICBjcmVhdGUocmVxLCByZXMpIHtcbiAgICBpZiAoIXJlcS5ib2R5LmRhdGEuZW1haWwgfHwgIXJlcS5ib2R5LmRhdGEuZmlyc3RfbmFtZSB8fCAgIXJlcS5ib2R5LmRhdGEucGFzc3dvcmQpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7J21lc3NhZ2UnOiAnIHNpZ251cCBBbGwgZmllbGRzIGFyZSByZXF1aXJlZCd9KVxuICAgIH1cbiAgICBjb25zdCByZWZsZWN0aW9uID0gT3JkZXJNb2RlbC5jcmVhdGUocmVxLmJvZHkuZGF0YSk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHJlZmxlY3Rpb24pO1xuICB9LFxuXG4gY3JlYXRlc2lnbmluKHJlcSwgcmVzKSB7XG4gICAgaWYgKCFyZXEuYm9keS5kYXRhLmVtYWlsIHx8ICFyZXEuYm9keS5kYXRhLmZpcnN0X25hbWUgfHwgICFyZXEuYm9keS5kYXRhLnBhc3N3b3JkKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeydtZXNzYWdlJzogJyBTaWduaW5BbGwgZmllbGRzIGFyZSByZXF1aXJlZCd9KVxuICAgIH1cbiAgICBjb25zdCByZWZsZWN0aW9uID0gT3JkZXJNb2RlbC5jcmVhdGVzaWduaW4ocmVxLmJvZHkuZGF0YSk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHJlZmxlY3Rpb24pO1xuICB9LFxuIGNyZWF0ZWNhcmFkKHJlcSwgcmVzKSB7XG4gICAgdmFyIHRva2VuID0gcmVxLmhlYWRlcnNbJ2FjY2Vzcy10b2tlbiddO1xuICAvL2NvbnNvbGUubG9nKFwidG9rZW49PT1cIit0b2tlbik7XG4gICAgaWYgKCFyZXEuYm9keS5tYW51ZmFjdHVyZSB8fCAgIXJlcS5ib2R5LnByaWNlKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeydtZXNzYWdlJzogJyAgY2FyIGFkICBBbGwgZmllbGRzIGFyZSByZXF1aXJlZCd9KVxuICAgIH1cbiAgICBjb25zdCByZWZsZWN0aW9uID0gT3JkZXJNb2RlbC5jcmVhdGVjYXJhZChyZXEuYm9keSx0b2tlbik7XG4gICAgdmFyIGtleXJlZmxlY3Rpb24gPSBPYmplY3Qua2V5cyhyZWZsZWN0aW9uKS5sZW5ndGg7XG4gICAgLy9jb25zb2xlLmxvZyhcInh4eHh4eHh4eHhcIitrZXlyZWZsZWN0aW9uKTsgXG4gICAgaWYgKGtleXJlZmxlY3Rpb24gPiAyKXsgXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHtcInN0YXR1c1wiOjIwMSAsIFwibWVzc2FnZVwiOiBcIkNhciBBRCAgaXMgY3JlYXRlZFwiLCBcImRhdGFcIiA6IHJlZmxlY3Rpb259KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhSZWZsZWN0aW9uTW9kZWwuY3JlYXRlY2FyYWQucmVmbGVjdGlvbmNhcmFkZG5vdGZvdW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHtcInN0YXR1c1wiOjIwMSAsIFwibWVzc2FnZVwiOiBcIiBDYXIgYWQgbm90IGNyZWF0ZWQgXCIsIFwiZGF0YVwiIDpyZWZsZWN0aW9ufSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQoe1wic3RhdHVzXCI6NDA0ICwgXCJtZXNzYWdlXCI6IFwiVXNlciBub3QgZm91bmQgY2hlY2sgdG9rZW4gcGxlYXNlXCJ9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICB9ICBcbiAgfSxcblxuY3JlYXRlb3JkZXJhZChyZXEsIHJlcykge1xuIHZhciB0b2tlbiA9IHJlcS5oZWFkZXJzWydhY2Nlc3MtdG9rZW4nXTtcbiAgXG4gICAgaWYgKCFyZXEuYm9keS5wcmljZV9vZmZlcmVkKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeydtZXNzYWdlJzogJyAgb3JkZXIgYWQgIEFsbCBmaWVsZHMgYXJlIHJlcXVpcmVkJ30pXG4gICAgfVxuICAgIGNvbnN0IHJlZmxlY3Rpb24gPSBPcmRlck1vZGVsLmNyZWF0ZW9yZGVyYWQocmVxLmJvZHksdG9rZW4scmVxLnBhcmFtcy5jYXJfaWQpO1xuICAgIHZhciBrZXlyZWZsZWN0aW9uID0gT2JqZWN0LmtleXMocmVmbGVjdGlvbikubGVuZ3RoO1xuICAgIGlmIChrZXlyZWZsZWN0aW9uID4gMil7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHtcInN0YXR1c1wiOjIwMSAsIFwibWVzc2FnZVwiOiBcIkJ1eSBPcmRlciAgaXMgY3JlYXRlZFwiLCBcImRhdGFcIiA6IHJlZmxlY3Rpb259KTtcbiAgICAgfVxuICAgICBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQoe1wic3RhdHVzXCI6MjAxICwgXCJtZXNzYWdlXCI6IFwiIE9yZGVyIGFkIG5vdCBjcmVhdGVkIFwiLCBcImRhdGFcIiA6cmVmbGVjdGlvbn0pO1xuICAgICAgICB9Ly8vLy8vLy8vLy8vLy8vLy8vLy8vL2lmIG9rIFxuICBcbiAgfSxcblxuXG4gIC8qKlxuICAgKiBcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlcSBcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlcyBcbiAgICogQHJldHVybnMge29iamVjdH0gcmVmbGVjdGlvbnMgYXJyYXlcbiAgICovXG4gIGdldEFsbChyZXEsIHJlcykge1xuICAgIGNvbnN0IHJlZmxlY3Rpb25zID0gT3JkZXJNb2RlbC5maW5kQWxsKCk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHJlZmxlY3Rpb25zKTtcbiAgfSxcblxuICBnZXRBbGxzaWduaW51c2VycyhyZXEsIHJlcykge1xuICAgIGNvbnN0IHJlZmxlY3Rpb25zID0gT3JkZXJNb2RlbC5maW5kQWxsc2lnbmludXNlcnMoKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQocmVmbGVjdGlvbnMpO1xuICB9LFxuXG4gICBnZXRBbGxjYXJzYWRzKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgcmVmbGVjdGlvbnMgPSBPcmRlck1vZGVsLmZpbmRBbGxjYXJzYWRzKCk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcInN0YXR1c1wiOjIwMCAsIFwibWVzc2FnZVwiOiBcImFsbCBjYXJzIFwiLCBcImRhdGFcIiA6IHJlZmxlY3Rpb25zfSk7XG4gIH0sXG5cblxuZ2V0QWxsb3JkZXJzKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgcmVmbGVjdGlvbnMgPSBPcmRlck1vZGVsLmZpbmRBbGxvcmRlcnMoKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoe1wic3RhdHVzXCI6MjAwICwgXCJtZXNzYWdlXCI6IFwiYWxsIG9yZGVycyBcIiwgXCJkYXRhXCIgOnJlZmxlY3Rpb25zfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVxIFxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVzXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHJlZmxlY3Rpb24gb2JqZWN0XG4gICAqL1xuICBnZXRPbmUocmVxLCByZXMpIHtcbiAgICBjb25zdCByZWZsZWN0aW9uID0gT3JkZXJNb2RlbC5maW5kT25lKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmICghcmVmbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsnbWVzc2FnZSc6ICdyZWZsZWN0aW9uIG5vdCBmb3VuZCd9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHJlZmxlY3Rpb24pO1xuICB9LFxuXG4gIGdldE9yZGVyT25lKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgcmVmbGVjdGlvbiA9IE9yZGVyTW9kZWwuZmluZG9kZXJPbmUocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKCFyZWZsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoeydtZXNzYWdlJzogJyBPcmRlciBub3QgZm91bmQgbm90IGZvdW5kJ30pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoe1wic3RhdHVzXCI6MjAwICwgXCJtZXNzYWdlXCI6IFwiIEdldCBvcmRlciBhZCBieSBpZCBcIiwgXCJkYXRhXCIgOnJlZmxlY3Rpb259KTtcbiAgfSxcblxuICBnZXRPbmVDYXIocmVxLCByZXMpIHtcbiAgICBjb25zdCByZWZsZWN0aW9uID0gT3JkZXJNb2RlbC5maW5kQ2FyT25lKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmICghcmVmbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsnbWVzc2FnZSc6ICcgQ2FyIGZvdW5kIG5vdCBmb3VuZCd9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcInN0YXR1c1wiOjIwMCAsIFwibWVzc2FnZVwiOiBcIiBHZXQgY2FyIGFkIGJ5IGlkIFwiLCBcImRhdGFcIiA6cmVmbGVjdGlvbn0pO1xuICB9LFxuXG4gIGdldEExKHJlcSwgcmVzKSB7XG4gIFxuICAgIGNvbnN0IHJlZmxlY3Rpb24gPSBPcmRlck1vZGVsLmZpbmRBMShyZXEucXVlcnkuc3VjY2VzcyAsIHJlcS5xdWVyeS5sb3dQb2ludCk7XG4gICAgaWYgKCFyZWZsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoeydtZXNzYWdlJzogJ3JlZmxlY3Rpb24gc2VhY2ggIG5vdCBmb3VuZCd9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHJlZmxlY3Rpb24pO1xuICB9LFxuXG5cbmdldHVuc29sZGNhcnByaWNlcmFuZ2UocmVxLCByZXMpIHtcbiAgXG4gICAgY29uc3QgcmVmbGVjdGlvbiA9IE9yZGVyTW9kZWwuZmluZHNvbGRjYXJwcmljZXJhbmdlKHJlcS5xdWVyeSk7XG4gICAgaWYgKCFyZWZsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoeydtZXNzYWdlJzogJyAgdW5zb2xkIHByaWNlICBzZWFjaCAgbm90IGZvdW5kJ30pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoe1wic3RhdHVzXCI6MjAwICwgXCJtZXNzYWdlXCI6IFwiYWxsIGNhcnMgXCIsIFwiZGF0YVwiIDpyZWZsZWN0aW9ufSk7XG4gIH0sXG5cbmdldHVuc29sZGNhcihyZXEsIHJlcykge1xuICBcbiAgICBjb25zdCByZWZsZWN0aW9uID0gT3JkZXJNb2RlbC5maW5kc29sZGNhcnMocmVxLnF1ZXJ5KTtcbiAgICBpZiAoIXJlZmxlY3Rpb24pIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7J21lc3NhZ2UnOiAnTm8gYXZhaWxhYmUgY2FyJ30pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQocmVmbGVjdGlvbik7XG4gIH0sXG5cblxuICAvKipcbiAgICogXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXEgXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXMgXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHVwZGF0ZWQgcmVmbGVjdGlvblxuICAgKi9cbiAgdXBkYXRlKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgcmVmbGVjdGlvbiA9IE9yZGVyTW9kZWwuZmluZE9uZShyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAoIXJlZmxlY3Rpb24pIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7J21lc3NhZ2UnOiAncmVmbGVjdGlvbiBub3QgZm91bmQnfSk7XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZWRSZWZsZWN0aW9uID0gT3JkZXJNb2RlbC51cGRhdGUocmVxLnBhcmFtcy5pZCwgcmVxLmJvZHkpXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHVwZGF0ZWRSZWZsZWN0aW9uKTtcbiAgfSxcblxudXBkYXRlb3JkZXJwcmljZShyZXEsIHJlcykge1xuICB2YXIgdG9rZW4gPSByZXEuaGVhZGVyc1snYWNjZXNzLXRva2VuJ107XG4gICAgdmFyIG5ld19wcmljZT1yZXEucGFyYW1zLm5ld19wcmljZTtcbiAgICBjb25zdCByZWZsZWN0aW9uID0gT3JkZXJNb2RlbC5maW5kb2Rlck9uZShyZXEucGFyYW1zLmlkKTtcbiAgICAvKlxuICAgIGlmICghcmVmbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsnbWVzc2FnZSc6ICcgdXBkYXRlICBvcmRlciAgbm90IGZvdW5kJ30pO1xuICAgIH1cbiAgICAqL1xuICAgIGNvbnN0IHVwZGF0ZWRSZWZsZWN0aW9uID0gT3JkZXJNb2RlbC51cGRhdGVvcmRlcnByaWNlKHJlcS5wYXJhbXMuaWQsIHJlcS5ib2R5LCB0b2tlbilcbiAgICBjb25zb2xlLmxvZyh1cGRhdGVkUmVmbGVjdGlvbik7IFxuICAgIHZhciBrZXlyZWZsZWN0aW9uID0gT2JqZWN0LmtleXModXBkYXRlZFJlZmxlY3Rpb24pLmxlbmd0aDtcbiAgICBpZiAoa2V5cmVmbGVjdGlvbiA+IDIgKXtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoe1wic3RhdHVzXCI6MjAwICwgXCJtZXNzYWdlXCI6IFwiIHN1Y2Nlc3NmdWxseSB1cGRhdGVkIFwiLCBcImRhdGFcIiA6dXBkYXRlZFJlZmxlY3Rpb259KTtcbiAgICB9XG4gICAgZWxzZSB7XG5yZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQoe1wic3RhdHVzXCI6MjAxICwgXCJtZXNzYWdlXCI6IFwiIG9yZGVyIG9mZmVyZWQgcHJpY2Ugbm90IHVwZGF0ZWQgXCIsIFwiZGF0YVwiIDp1cGRhdGVkUmVmbGVjdGlvbn0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHtcInN0YXR1c1wiOjQwNCAsIFwibWVzc2FnZVwiOiBcIlVzZXIgbm90IGZvdW5kIGNoZWNrIHRva2VuIHBsZWFzZVwifSk7XG5cblxuICAgIH1cbiAgfSxcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbnVwZGF0ZWNhcnN0YXR1cyhyZXEsIHJlcykge1xuXG5cbiAgdmFyIHRva2VuID0gcmVxLmhlYWRlcnNbJ2FjY2Vzcy10b2tlbiddO1xuICAgIHZhciBuZXdfcHJpY2U9cmVxLnBhcmFtcy5uZXdfcHJpY2U7XG4gICAgY29uc3QgcmVmbGVjdGlvbiA9IE9yZGVyTW9kZWwuZmluZENhck9uZShyZXEucGFyYW1zLmlkKTtcbiAgICAvKlxuICAgIGlmICghcmVmbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsnbWVzc2FnZSc6ICcgSUQgZXJyb3IgIENhbiBub3QgdXBkYXRlIGNhciBzdHV0YXMgdG8gc29sZCAgICd9KTtcbiAgICB9XG4gICAgKi9cbiAgICBjb25zdCB1cGRhdGVkUmVmbGVjdGlvbiA9IE9yZGVyTW9kZWwudXBkYXRlY2Fyc3RhdHVzKHJlcS5wYXJhbXMuaWQsIHJlcS5ib2R5LHRva2VuKVxuICAgICB2YXIga2V5cmVmbGVjdGlvbiA9IE9iamVjdC5rZXlzKHVwZGF0ZWRSZWZsZWN0aW9uKS5sZW5ndGg7XG4gICBpZiAoa2V5cmVmbGVjdGlvbiA+IDIpe1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XCJzdGF0dXNcIjoyMDAgLCBcIm1lc3NhZ2VcIjogXCIgc3VjY2Vzc2Z1bGx5IHVwZGF0ZWQgIGNhciBzdGF0dXMgdG8gc29sZFwiLCBcImRhdGFcIiA6dXBkYXRlZFJlZmxlY3Rpb259KTtcbiAgfVxuICBlbHNlIHtcbnJldHVybiByZXMuc3RhdHVzKDIwMSkuc2VuZCh7XCJzdGF0dXNcIjoyMDEgLCBcIm1lc3NhZ2VcIjogXCIgQ2FyIEFkIFN0YXR1cyBub3QgdXBkYXRlZCBcIiwgXCJkYXRhXCIgOnVwZGF0ZWRSZWZsZWN0aW9ufSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQoe1wic3RhdHVzXCI6NDA0ICwgXCJtZXNzYWdlXCI6IFwiVXNlciBub3QgZm91bmQgY2hlY2sgdG9rZW4gcGxlYXNlXCJ9KTtcblxuXG4gIH1cbiAgfSxcblxuICB1cGRhdGVjYXJwcmljZShyZXEsIHJlcykge1xuICAgIHZhciB0b2tlbiA9IHJlcS5oZWFkZXJzWydhY2Nlc3MtdG9rZW4nXTtcbiAgICB2YXIgY2FyX3ByaWNlPXJlcS5wYXJhbXMuY2FyX3ByaWNlO1xuICAgIGNvbnN0IHJlZmxlY3Rpb24gPSBPcmRlck1vZGVsLmZpbmRDYXJPbmUocmVxLnBhcmFtcy5pZCk7XG4gICAgLypcbiAgICBpZiAoIXJlZmxlY3Rpb24pIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7J21lc3NhZ2UnOiAnIGNhcl9wcmljZSBub3QgdXBkYXRlZCAgJ30pO1xuICAgIH1cbiAgICAqL1xuICAgIGNvbnN0IHVwZGF0ZWRSZWZsZWN0aW9uID0gT3JkZXJNb2RlbC51cGRhdGVjYXJwcmljZShyZXEucGFyYW1zLmlkLCByZXEuYm9keSwgdG9rZW4gKVxuICAgIHZhciBrZXlyZWZsZWN0aW9uID0gT2JqZWN0LmtleXModXBkYXRlZFJlZmxlY3Rpb24pLmxlbmd0aDtcbiAgICBpZiAoa2V5cmVmbGVjdGlvbiA+IDIpe1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XCJzdGF0dXNcIjoyMDAgLCBcIm1lc3NhZ2VcIjogXCIgc3VjY2Vzc2Z1bGx5IHVwZGF0ZWQgXCIsIFwiZGF0YVwiIDp1cGRhdGVkUmVmbGVjdGlvbn0pO1xuICAgIH1cbiAgZWxzZSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQoe1wic3RhdHVzXCI6MjAxICwgXCJtZXNzYWdlXCI6IFwiIENhciBwcmljZSBub3QgdXBkYXRlZCBcIiwgXCJkYXRhXCIgOnVwZGF0ZWRSZWZsZWN0aW9ufSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQoe1wic3RhdHVzXCI6NDA0ICwgXCJtZXNzYWdlXCI6IFwiVXNlciBub3QgZm91bmQgY2hlY2sgdG9rZW4gcGxlYXNlXCJ9KTtcblxuXG4gIH1cblxuICB9LFxuXG5cbiAgLyoqXG4gICAqIFxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVxIFxuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXMgXG4gICAqIEByZXR1cm5zIHt2b2lkfSByZXR1cm4gc3RhdHVjIGNvZGUgMjA0IFxuICAgKi9cblxuICAgXG4gICBkZWxldGVjYXJhZChyZXEsIHJlcykge1xuICAgIGNvbnN0IHJlZmxlY3Rpb24gPSBPcmRlck1vZGVsLmZpbmRDYXJPbmUocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKCFyZWZsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoeydtZXNzYWdlJzogJ2NhciBpZCAgbm90IGZvdW5kJ30pO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCByZWYgPSBPcmRlck1vZGVsLmRlbGV0ZWNhcmFkKHJlcS5wYXJhbXMuaWQpO1xuICAgIGNvbnN0IHJlZmxlY3Rpb254ID0gT3JkZXJNb2RlbC5maW5kQ2FyT25lKHJlcS5wYXJhbXMuaWQpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7J3N0YXR1cyc6MCAsJ21lc3NhZ2UnOiAnQ2FyIEFkIHN1Y2Nlc3NmdWxseSBkZWxldGVkJ30pO1xuICAgIC8vcmV0dXJuIHJlcy5zdGF0dXMoMjA0KS5zZW5kKG1lKTtcbiAgICAgICAgXG4gIH0sXG5cblxuXG4gIGRlbGV0ZShyZXEsIHJlcykge1xuICAgIGNvbnN0IHJlZmxlY3Rpb24gPSBPcmRlck1vZGVsLmZpbmRPbmUocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKCFyZWZsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoeydtZXNzYWdlJzogJ3JlZmxlY3Rpb24gbm90IGZvdW5kJ30pO1xuICAgIH1cbiAgICBjb25zdCByZWYgPSBPcmRlck1vZGVsLmRlbGV0ZShyZXEucGFyYW1zLmlkKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDQpLnNlbmQocmVmKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBPcmRlcjsiXX0=