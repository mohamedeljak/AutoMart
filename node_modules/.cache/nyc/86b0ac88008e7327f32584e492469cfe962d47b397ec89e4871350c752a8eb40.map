{"version":3,"sources":["SignupVali.js"],"names":["Joi","require","key","app","use","express","json","module","exports","req","res","next","data","body","schema","object","keys","email","string","required","first_name","alphanum","last_name","address","is_admin","boolean","default","password","validate","err","value","console","log","status","message"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;;;AACA;AACA,MAAMA,GAAG,GAAGC,OAAO,CAAC,KAAD,CAAnB;;AAGA,MAAMC,GAAG,GAAGD,OAAO,CAAC,OAAD,CAAnB;;AAEA,MAAME,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQC,iBAAQC,IAAR,EAAR,E,CAIA;;AACAC,MAAM,CAACC,OAAP,GAAiB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACrC,QAAMC,IAAI,GAAGH,GAAG,CAACI,IAAjB;AACA,QAAMC,MAAM,GAAGd,GAAG,CAACe,MAAJ,GAAaC,IAAb,CAAkB;AAE7BC,IAAAA,KAAK,EAACjB,GAAG,CAACkB,MAAJ,GAAaD,KAAb,GAAqBE,QAArB,EAFuB;AAG7BC,IAAAA,UAAU,EAACpB,GAAG,CAACkB,MAAJ,GAAaG,QAAb,GAAwBF,QAAxB,EAHkB;AAI7BG,IAAAA,SAAS,EAAEtB,GAAG,CAACkB,MAAJ,GAAaG,QAAb,GAAwBF,QAAxB,EAJkB;AAK7BI,IAAAA,OAAO,EAAEvB,GAAG,CAACkB,MAAJ,GAAaG,QAAb,GAAwBF,QAAxB,EALoB;AAM7BK,IAAAA,QAAQ,EAAGxB,GAAG,CAACyB,OAAJ,GAAcC,OAAd,CAAsB,KAAtB,CANkB;AAO5BC,IAAAA,QAAQ,EAAG3B,GAAG,CAACkB,MAAJ,GAAaG,QAAb,GAAwBF,QAAxB;AAPiB,GAAlB,CAAf;AAUGnB,EAAAA,GAAG,CAAC4B,QAAJ,CAAahB,IAAb,EAAmBE,MAAnB,EAA2B,CAACe,GAAD,EAAMC,KAAN,KAAgB;AAC7C,QAAID,GAAJ,EAAS;AACGE,MAAAA,OAAO,CAACC,GAAR,CAAYlB,MAAM,CAACG,KAAnB,EADH,CAEE;;AACAP,MAAAA,GAAG,CAACuB,MAAJ,CAAW,GAAX,EAAgB3B,IAAhB,CAAqB;AACjB2B,QAAAA,MAAM,EAAE,OADS;AAEjBC,QAAAA,OAAO,EAAE;AAFQ,OAArB;AAMC,KATZ,MAUgB;AACDH,MAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AAEPrB,MAAAA,IAAI;AAGA;AACZ,GAlBE;AAoBA,CAhCH","sourceRoot":"/home/mhashim/Desktop/NewWork/AutoMart/src/middlewares","sourcesContent":["import express from 'express';\nimport Reflection from '../controllers/Reflection';\nimport user from '../controllers/user';\nimport jwt from 'jsonwebtoken';\n//import tokenkey from './key';\nconst Joi = require('joi');\n\n\nconst key = require('./key');\n\nconst app = express()\napp.use(express.json())\n\n\n\n//app.use('/api/v1/car', ProtectedRoutes);\nmodule.exports = (req, res, next) => {\nconst data = req.body;\nconst schema = Joi.object().keys({\n    \n    email:Joi.string().email().required(),\n    first_name:Joi.string().alphanum().required(),\n    last_name: Joi.string().alphanum().required(),\n    address :Joi.string().alphanum().required(),\n    is_admin : Joi.boolean().default(false),\n     password : Joi.string().alphanum().required()\n    \n    });     \n   Joi.validate(data, schema, (err, value) => {\n if (err) {\n             console.log(schema.email);\n            // send a 422 error response if validation fails\n            res.status(422).json({\n                status: 'error',\n                message: 'Invalid Login Data(x)',\n              \n            });\n            \n            }   \n            else {\n                console.log('yyyyyyyyyyyyyyyyyyyyyyyyyyy');\n\n         next();\n\n\n            }\n});\n    \n  };\n "]}