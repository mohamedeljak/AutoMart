{"version":3,"sources":["user.js"],"names":["Joi","require","user","create","req","res","body","email","first_name","password","last_name","is_admin","status","send","reflection","userModel","createsignin","data","getAll","reflections","findAll","getAllsigninusers","findAllsigninusers","getunsigninuser","keyreflection","Object","keys","length","console","log"],"mappings":";;;;;;;AAAA;;;;AACA,MAAMA,GAAG,GAAGC,OAAO,CAAC,KAAD,CAAnB;;AACA,MAAMC,IAAI,GAAG;AACbC,EAAAA,MAAM,CAACC,GAAD,EAAMC,GAAN,EAAW;AACb,QAAI,CAACD,GAAG,CAACE,IAAJ,CAASC,KAAV,IAAmB,CAACH,GAAG,CAACE,IAAJ,CAASE,UAA7B,IAA4C,CAACJ,GAAG,CAACE,IAAJ,CAASG,QAAtD,IAAkE,CAACL,GAAG,CAACE,IAAJ,CAASI,SAA5E,IACF,CAACN,GAAG,CAACE,IAAJ,CAASK,QAAV,KAAuB,GADzB,EAC+B;AAC7B,aAAON,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAC,mBAAW;AAAZ,OAArB,CAAP;AACD;;AAGM,UAAMC,UAAU,GAAGC,cAAUZ,MAAV,CAAiBC,GAAG,CAACE,IAArB,CAAnB;;AACP,WAAOD,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAC,gBAAS,GAAV;AAAgB,iBAAW,iBAA3B;AAA8C,cAASC;AAAvD,KAArB,CAAP;AAED,GAXU;;AAaZE,EAAAA,YAAY,CAACZ,GAAD,EAAMC,GAAN,EAAW;AACpB,QAAI,CAACD,GAAG,CAACE,IAAJ,CAASW,IAAT,CAAcV,KAAf,IAAwB,CAACH,GAAG,CAACE,IAAJ,CAASW,IAAT,CAAcT,UAAvC,IAAsD,CAACJ,GAAG,CAACE,IAAJ,CAASW,IAAT,CAAcR,QAAzE,EAAmF;AACjF,aAAOJ,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAC,mBAAW;AAAZ,OAArB,CAAP;AACD;;AACD,UAAMC,UAAU,GAAGC,cAAUC,YAAV,CAAuBZ,GAAG,CAACE,IAAJ,CAASW,IAAhC,CAAnB;;AACA,WAAOZ,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBC,UAArB,CAAP;AACD,GAnBU;;AAoBXI,EAAAA,MAAM,CAACd,GAAD,EAAMC,GAAN,EAAW;AACf,UAAMc,WAAW,GAAGJ,cAAUK,OAAV,EAApB;;AACA,WAAOf,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBM,WAArB,CAAP;AACD,GAvBU;;AAwBXE,EAAAA,iBAAiB,CAACjB,GAAD,EAAMC,GAAN,EAAW;AAC1B,UAAMc,WAAW,GAAGJ,cAAUO,kBAAV,EAApB;;AACA,WAAOjB,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBM,WAArB,CAAP;AACD,GA3BU;;AA4BXI,EAAAA,eAAe,CAACnB,GAAD,EAAMC,GAAN,EAAW;AAKzB;AACC,UAAMS,UAAU,GAAGC,cAAUQ,eAAV,CAA0BnB,GAAG,CAACE,IAA9B,CAAnB;;AACA,QAAIkB,aAAa,GAAGC,MAAM,CAACC,IAAP,CAAYZ,UAAZ,EAAwBa,MAA5C;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYf,UAAZ;;AACA,QAAIU,aAAa,KAAK,CAAtB,EAAyB;AACvB,aAAOnB,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAC,kBAAS,GAAV;AAAgB,mBAAW,iBAA3B;AAA8C,gBAAOC;AAArD,OAArB,CAAP;AACK,KAFP,MAGK;AACL,aAAOT,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAC,kBAAS,GAAV;AAAgB,mBAAW,aAA3B;AAA0C,gBAAOC;AAAjD,OAArB,CAAP;AACD,KAdyB,CActB;;AAIH,GA9CU,CA8CT;;;AA9CS,CAAb;eAoDeZ,I","sourceRoot":"/home/mhashim/Desktop/NewWork/AutoMart/src/controllers","sourcesContent":["import userModel from '../models/user';\nconst Joi = require('joi');\nconst user = {\ncreate(req, res) {\n    if (!req.body.email || !req.body.first_name ||  !req.body.password || !req.body.last_name ||\n      !req.body.is_admin === \" \" ) {\n      return res.status(400).send({'message': ' signup All fields are required when signup'})\n    }\n \n \n           const reflection = userModel.create(req.body);\n    return res.status(201).send({\"status\":201 , \"message\": \"User is created\", \"data\" : reflection   });\n\n  },\n\n createsignin(req, res) {\n    if (!req.body.data.email || !req.body.data.first_name ||  !req.body.data.password) {\n      return res.status(400).send({'message': ' SigninAll fields are required'})\n    }\n    const reflection = userModel.createsignin(req.body.data);\n    return res.status(201).send(reflection);\n  },\n  getAll(req, res) {\n    const reflections = userModel.findAll();\n    return res.status(200).send(reflections);\n  },\n  getAllsigninusers(req, res) {\n    const reflections = userModel.findAllsigninusers();\n    return res.status(200).send(reflections);\n  },\n  getunsigninuser(req, res) {\n  \n\n\n\n   ////////////////////////////if ok\n    const reflection = userModel.getunsigninuser(req.body);\n    var keyreflection = Object.keys(reflection).length;\n    console.log(reflection);\n    if (keyreflection === 2) {\n      return res.status(200).send({\"status\":404 , \"message\": \"User not found \", \"data\":reflection});\n          }\n    else {\n    return res.status(200).send({\"status\":200 , \"message\": \"User Log in\", \"data\":reflection});\n  }   // if ok \n\n  \n\n  } // end signinuser\n\n\n\n}\n\nexport default user;    "]}