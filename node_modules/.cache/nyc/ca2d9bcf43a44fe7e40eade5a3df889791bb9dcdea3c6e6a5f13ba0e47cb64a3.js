"use strict";var cov_1jfb4fyrb1=function(){var path="/home/mhashim/Desktop/NewWork/AutoMart/src/controllers/Cars.js";var hash="76942325168dc4bfaf9612aa57e1c8508ae5882c";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/mhashim/Desktop/NewWork/AutoMart/src/controllers/Cars.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:28}},"2":{start:{line:8,column:12},end:{line:8,column:61}},"3":{start:{line:10,column:39},end:{line:10,column:95}},"4":{start:{line:13,column:10},end:{line:13,column:24}},"5":{start:{line:15,column:10},end:{line:370,column:1}},"6":{start:{line:23,column:4},end:{line:27,column:5}},"7":{start:{line:24,column:6},end:{line:26,column:9}},"8":{start:{line:29,column:21},end:{line:29,column:59}},"9":{start:{line:31,column:4},end:{line:31,column:44}},"10":{start:{line:34,column:4},end:{line:38,column:5}},"11":{start:{line:35,column:6},end:{line:37,column:9}},"12":{start:{line:40,column:21},end:{line:40,column:65}},"13":{start:{line:42,column:4},end:{line:42,column:44}},"14":{start:{line:45,column:16},end:{line:45,column:43}},"15":{start:{line:47,column:4},end:{line:51,column:5}},"16":{start:{line:48,column:6},end:{line:50,column:9}},"17":{start:{line:53,column:21},end:{line:53,column:66}},"18":{start:{line:55,column:24},end:{line:55,column:54}},"19":{start:{line:57,column:4},end:{line:70,column:5}},"20":{start:{line:58,column:6},end:{line:62,column:9}},"21":{start:{line:65,column:6},end:{line:69,column:9}},"22":{start:{line:73,column:16},end:{line:73,column:43}},"23":{start:{line:75,column:4},end:{line:79,column:5}},"24":{start:{line:76,column:6},end:{line:78,column:9}},"25":{start:{line:81,column:21},end:{line:81,column:87}},"26":{start:{line:83,column:24},end:{line:83,column:54}},"27":{start:{line:85,column:4},end:{line:97,column:5}},"28":{start:{line:86,column:6},end:{line:90,column:9}},"29":{start:{line:92,column:6},end:{line:96,column:9}},"30":{start:{line:108,column:22},end:{line:108,column:48}},"31":{start:{line:110,column:4},end:{line:110,column:45}},"32":{start:{line:113,column:22},end:{line:113,column:59}},"33":{start:{line:115,column:4},end:{line:115,column:45}},"34":{start:{line:118,column:22},end:{line:118,column:55}},"35":{start:{line:120,column:4},end:{line:124,column:7}},"36":{start:{line:127,column:22},end:{line:127,column:54}},"37":{start:{line:129,column:4},end:{line:133,column:7}},"38":{start:{line:143,column:21},end:{line:143,column:60}},"39":{start:{line:145,column:4},end:{line:149,column:5}},"40":{start:{line:146,column:6},end:{line:148,column:9}},"41":{start:{line:151,column:4},end:{line:151,column:44}},"42":{start:{line:154,column:21},end:{line:154,column:64}},"43":{start:{line:156,column:4},end:{line:160,column:5}},"44":{start:{line:157,column:6},end:{line:159,column:9}},"45":{start:{line:162,column:4},end:{line:166,column:7}},"46":{start:{line:169,column:21},end:{line:169,column:63}},"47":{start:{line:171,column:4},end:{line:175,column:5}},"48":{start:{line:172,column:6},end:{line:174,column:9}},"49":{start:{line:177,column:4},end:{line:181,column:7}},"50":{start:{line:184,column:21},end:{line:184,column:83}},"51":{start:{line:186,column:4},end:{line:190,column:5}},"52":{start:{line:187,column:6},end:{line:189,column:9}},"53":{start:{line:192,column:4},end:{line:192,column:44}},"54":{start:{line:195,column:21},end:{line:195,column:70}},"55":{start:{line:197,column:4},end:{line:201,column:5}},"56":{start:{line:198,column:6},end:{line:200,column:9}},"57":{start:{line:203,column:4},end:{line:207,column:7}},"58":{start:{line:210,column:21},end:{line:210,column:61}},"59":{start:{line:212,column:4},end:{line:216,column:5}},"60":{start:{line:213,column:6},end:{line:215,column:9}},"61":{start:{line:218,column:4},end:{line:218,column:44}},"62":{start:{line:228,column:21},end:{line:228,column:60}},"63":{start:{line:230,column:4},end:{line:234,column:5}},"64":{start:{line:231,column:6},end:{line:233,column:9}},"65":{start:{line:236,column:28},end:{line:236,column:76}},"66":{start:{line:238,column:4},end:{line:238,column:51}},"67":{start:{line:241,column:16},end:{line:241,column:43}},"68":{start:{line:242,column:20},end:{line:242,column:40}},"69":{start:{line:244,column:21},end:{line:244,column:64}},"70":{start:{line:252,column:28},end:{line:252,column:93}},"71":{start:{line:254,column:4},end:{line:254,column:35}},"72":{start:{line:255,column:24},end:{line:255,column:61}},"73":{start:{line:257,column:4},end:{line:269,column:5}},"74":{start:{line:258,column:6},end:{line:262,column:9}},"75":{start:{line:264,column:6},end:{line:268,column:9}},"76":{start:{line:273,column:16},end:{line:273,column:43}},"77":{start:{line:274,column:20},end:{line:274,column:40}},"78":{start:{line:276,column:21},end:{line:276,column:63}},"79":{start:{line:284,column:28},end:{line:284,column:92}},"80":{start:{line:286,column:24},end:{line:286,column:61}},"81":{start:{line:288,column:4},end:{line:300,column:5}},"82":{start:{line:289,column:6},end:{line:293,column:9}},"83":{start:{line:295,column:6},end:{line:299,column:9}},"84":{start:{line:303,column:16},end:{line:303,column:43}},"85":{start:{line:304,column:20},end:{line:304,column:40}},"86":{start:{line:306,column:21},end:{line:306,column:63}},"87":{start:{line:314,column:28},end:{line:314,column:91}},"88":{start:{line:316,column:24},end:{line:316,column:61}},"89":{start:{line:318,column:4},end:{line:330,column:5}},"90":{start:{line:319,column:6},end:{line:323,column:9}},"91":{start:{line:325,column:6},end:{line:329,column:9}},"92":{start:{line:340,column:21},end:{line:340,column:63}},"93":{start:{line:342,column:4},end:{line:346,column:5}},"94":{start:{line:343,column:6},end:{line:345,column:9}},"95":{start:{line:348,column:14},end:{line:348,column:57}},"96":{start:{line:350,column:22},end:{line:350,column:64}},"97":{start:{line:352,column:4},end:{line:355,column:7}},"98":{start:{line:358,column:21},end:{line:358,column:60}},"99":{start:{line:360,column:4},end:{line:364,column:5}},"100":{start:{line:361,column:6},end:{line:363,column:9}},"101":{start:{line:366,column:14},end:{line:366,column:55}},"102":{start:{line:368,column:4},end:{line:368,column:37}},"103":{start:{line:371,column:15},end:{line:371,column:18}},"104":{start:{line:372,column:0},end:{line:372,column:30}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:10,column:9},end:{line:10,column:31}},loc:{start:{line:10,column:37},end:{line:10,column:97}},line:10},"1":{name:"create",decl:{start:{line:22,column:19},end:{line:22,column:25}},loc:{start:{line:22,column:36},end:{line:32,column:3}},line:22},"2":{name:"createsignin",decl:{start:{line:33,column:25},end:{line:33,column:37}},loc:{start:{line:33,column:48},end:{line:43,column:3}},line:33},"3":{name:"createcarad",decl:{start:{line:44,column:24},end:{line:44,column:35}},loc:{start:{line:44,column:46},end:{line:71,column:3}},line:44},"4":{name:"createorderad",decl:{start:{line:72,column:26},end:{line:72,column:39}},loc:{start:{line:72,column:50},end:{line:99,column:3}},line:72},"5":{name:"getAll",decl:{start:{line:107,column:19},end:{line:107,column:25}},loc:{start:{line:107,column:36},end:{line:111,column:3}},line:107},"6":{name:"getAllsigninusers",decl:{start:{line:112,column:30},end:{line:112,column:47}},loc:{start:{line:112,column:58},end:{line:116,column:3}},line:112},"7":{name:"getAllcarsads",decl:{start:{line:117,column:26},end:{line:117,column:39}},loc:{start:{line:117,column:50},end:{line:125,column:3}},line:117},"8":{name:"getAllorders",decl:{start:{line:126,column:25},end:{line:126,column:37}},loc:{start:{line:126,column:48},end:{line:134,column:3}},line:126},"9":{name:"getOne",decl:{start:{line:142,column:19},end:{line:142,column:25}},loc:{start:{line:142,column:36},end:{line:152,column:3}},line:142},"10":{name:"getOrderOne",decl:{start:{line:153,column:24},end:{line:153,column:35}},loc:{start:{line:153,column:46},end:{line:167,column:3}},line:153},"11":{name:"getOneCar",decl:{start:{line:168,column:22},end:{line:168,column:31}},loc:{start:{line:168,column:42},end:{line:182,column:3}},line:168},"12":{name:"getA1",decl:{start:{line:183,column:18},end:{line:183,column:23}},loc:{start:{line:183,column:34},end:{line:193,column:3}},line:183},"13":{name:"getunsoldcarpricerange",decl:{start:{line:194,column:35},end:{line:194,column:57}},loc:{start:{line:194,column:68},end:{line:208,column:3}},line:194},"14":{name:"getunsoldcar",decl:{start:{line:209,column:25},end:{line:209,column:37}},loc:{start:{line:209,column:48},end:{line:219,column:3}},line:209},"15":{name:"update",decl:{start:{line:227,column:19},end:{line:227,column:25}},loc:{start:{line:227,column:36},end:{line:239,column:3}},line:227},"16":{name:"updateorderprice",decl:{start:{line:240,column:29},end:{line:240,column:45}},loc:{start:{line:240,column:56},end:{line:270,column:3}},line:240},"17":{name:"updatecarstatus",decl:{start:{line:272,column:28},end:{line:272,column:43}},loc:{start:{line:272,column:54},end:{line:301,column:3}},line:272},"18":{name:"updatecarprice",decl:{start:{line:302,column:27},end:{line:302,column:41}},loc:{start:{line:302,column:52},end:{line:331,column:3}},line:302},"19":{name:"deletecarad",decl:{start:{line:339,column:24},end:{line:339,column:35}},loc:{start:{line:339,column:46},end:{line:356,column:3}},line:339},"20":{name:"_delete",decl:{start:{line:357,column:21},end:{line:357,column:28}},loc:{start:{line:357,column:39},end:{line:369,column:3}},line:357}},branchMap:{"0":{loc:{start:{line:10,column:46},end:{line:10,column:94}},type:"cond-expr",locations:[{start:{line:10,column:70},end:{line:10,column:73}},{start:{line:10,column:76},end:{line:10,column:94}}],line:10},"1":{loc:{start:{line:10,column:46},end:{line:10,column:67}},type:"binary-expr",locations:[{start:{line:10,column:46},end:{line:10,column:49}},{start:{line:10,column:53},end:{line:10,column:67}}],line:10},"2":{loc:{start:{line:23,column:4},end:{line:27,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:27,column:5}},{start:{line:23,column:4},end:{line:27,column:5}}],line:23},"3":{loc:{start:{line:23,column:8},end:{line:23,column:84}},type:"binary-expr",locations:[{start:{line:23,column:8},end:{line:23,column:28}},{start:{line:23,column:32},end:{line:23,column:57}},{start:{line:23,column:61},end:{line:23,column:84}}],line:23},"4":{loc:{start:{line:34,column:4},end:{line:38,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:38,column:5}},{start:{line:34,column:4},end:{line:38,column:5}}],line:34},"5":{loc:{start:{line:34,column:8},end:{line:34,column:84}},type:"binary-expr",locations:[{start:{line:34,column:8},end:{line:34,column:28}},{start:{line:34,column:32},end:{line:34,column:57}},{start:{line:34,column:61},end:{line:34,column:84}}],line:34},"6":{loc:{start:{line:47,column:4},end:{line:51,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:51,column:5}},{start:{line:47,column:4},end:{line:51,column:5}}],line:47},"7":{loc:{start:{line:47,column:8},end:{line:47,column:48}},type:"binary-expr",locations:[{start:{line:47,column:8},end:{line:47,column:29}},{start:{line:47,column:33},end:{line:47,column:48}}],line:47},"8":{loc:{start:{line:57,column:4},end:{line:70,column:5}},type:"if",locations:[{start:{line:57,column:4},end:{line:70,column:5}},{start:{line:57,column:4},end:{line:70,column:5}}],line:57},"9":{loc:{start:{line:75,column:4},end:{line:79,column:5}},type:"if",locations:[{start:{line:75,column:4},end:{line:79,column:5}},{start:{line:75,column:4},end:{line:79,column:5}}],line:75},"10":{loc:{start:{line:85,column:4},end:{line:97,column:5}},type:"if",locations:[{start:{line:85,column:4},end:{line:97,column:5}},{start:{line:85,column:4},end:{line:97,column:5}}],line:85},"11":{loc:{start:{line:145,column:4},end:{line:149,column:5}},type:"if",locations:[{start:{line:145,column:4},end:{line:149,column:5}},{start:{line:145,column:4},end:{line:149,column:5}}],line:145},"12":{loc:{start:{line:156,column:4},end:{line:160,column:5}},type:"if",locations:[{start:{line:156,column:4},end:{line:160,column:5}},{start:{line:156,column:4},end:{line:160,column:5}}],line:156},"13":{loc:{start:{line:171,column:4},end:{line:175,column:5}},type:"if",locations:[{start:{line:171,column:4},end:{line:175,column:5}},{start:{line:171,column:4},end:{line:175,column:5}}],line:171},"14":{loc:{start:{line:186,column:4},end:{line:190,column:5}},type:"if",locations:[{start:{line:186,column:4},end:{line:190,column:5}},{start:{line:186,column:4},end:{line:190,column:5}}],line:186},"15":{loc:{start:{line:197,column:4},end:{line:201,column:5}},type:"if",locations:[{start:{line:197,column:4},end:{line:201,column:5}},{start:{line:197,column:4},end:{line:201,column:5}}],line:197},"16":{loc:{start:{line:212,column:4},end:{line:216,column:5}},type:"if",locations:[{start:{line:212,column:4},end:{line:216,column:5}},{start:{line:212,column:4},end:{line:216,column:5}}],line:212},"17":{loc:{start:{line:230,column:4},end:{line:234,column:5}},type:"if",locations:[{start:{line:230,column:4},end:{line:234,column:5}},{start:{line:230,column:4},end:{line:234,column:5}}],line:230},"18":{loc:{start:{line:257,column:4},end:{line:269,column:5}},type:"if",locations:[{start:{line:257,column:4},end:{line:269,column:5}},{start:{line:257,column:4},end:{line:269,column:5}}],line:257},"19":{loc:{start:{line:288,column:4},end:{line:300,column:5}},type:"if",locations:[{start:{line:288,column:4},end:{line:300,column:5}},{start:{line:288,column:4},end:{line:300,column:5}}],line:288},"20":{loc:{start:{line:318,column:4},end:{line:330,column:5}},type:"if",locations:[{start:{line:318,column:4},end:{line:330,column:5}},{start:{line:318,column:4},end:{line:330,column:5}}],line:318},"21":{loc:{start:{line:342,column:4},end:{line:346,column:5}},type:"if",locations:[{start:{line:342,column:4},end:{line:346,column:5}},{start:{line:342,column:4},end:{line:346,column:5}}],line:342},"22":{loc:{start:{line:360,column:4},end:{line:364,column:5}},type:"if",locations:[{start:{line:360,column:4},end:{line:364,column:5}},{start:{line:360,column:4},end:{line:364,column:5}}],line:360}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"76942325168dc4bfaf9612aa57e1c8508ae5882c"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();cov_1jfb4fyrb1.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1jfb4fyrb1.s[1]++;exports["default"]=void 0;var _Cars=(cov_1jfb4fyrb1.s[2]++,_interopRequireDefault(require("../models/Cars")));function _interopRequireDefault(obj){cov_1jfb4fyrb1.f[0]++;cov_1jfb4fyrb1.s[3]++;return(cov_1jfb4fyrb1.b[1][0]++,obj)&&(cov_1jfb4fyrb1.b[1][1]++,obj.__esModule)?(cov_1jfb4fyrb1.b[0][0]++,obj):(cov_1jfb4fyrb1.b[0][1]++,{"default":obj});}//import ReflectionModel from '../models/Reflection';
var Joi=(cov_1jfb4fyrb1.s[4]++,require('joi'));var Car=(cov_1jfb4fyrb1.s[5]++,{/**
   * 
   * @param {object} req 
   * @param {object} res
   * @returns {object} reflection object 
   */create:function create(req,res){cov_1jfb4fyrb1.f[1]++;cov_1jfb4fyrb1.s[6]++;if((cov_1jfb4fyrb1.b[3][0]++,!req.body.data.email)||(cov_1jfb4fyrb1.b[3][1]++,!req.body.data.first_name)||(cov_1jfb4fyrb1.b[3][2]++,!req.body.data.password)){cov_1jfb4fyrb1.b[2][0]++;cov_1jfb4fyrb1.s[7]++;return res.status(400).send({'message':' signup All fields are required'});}else{cov_1jfb4fyrb1.b[2][1]++;}var reflection=(cov_1jfb4fyrb1.s[8]++,_Cars["default"].create(req.body.data));cov_1jfb4fyrb1.s[9]++;return res.status(201).send(reflection);},createsignin:function createsignin(req,res){cov_1jfb4fyrb1.f[2]++;cov_1jfb4fyrb1.s[10]++;if((cov_1jfb4fyrb1.b[5][0]++,!req.body.data.email)||(cov_1jfb4fyrb1.b[5][1]++,!req.body.data.first_name)||(cov_1jfb4fyrb1.b[5][2]++,!req.body.data.password)){cov_1jfb4fyrb1.b[4][0]++;cov_1jfb4fyrb1.s[11]++;return res.status(400).send({'message':' SigninAll fields are required'});}else{cov_1jfb4fyrb1.b[4][1]++;}var reflection=(cov_1jfb4fyrb1.s[12]++,_Cars["default"].createsignin(req.body.data));cov_1jfb4fyrb1.s[13]++;return res.status(201).send(reflection);},createcarad:function createcarad(req,res){cov_1jfb4fyrb1.f[3]++;var token=(cov_1jfb4fyrb1.s[14]++,req.headers['access-token']);//console.log("token==="+token);
cov_1jfb4fyrb1.s[15]++;if((cov_1jfb4fyrb1.b[7][0]++,!req.body.manufacture)||(cov_1jfb4fyrb1.b[7][1]++,!req.body.price)){cov_1jfb4fyrb1.b[6][0]++;cov_1jfb4fyrb1.s[16]++;return res.status(400).send({'message':'  car ad  All fields are required'});}else{cov_1jfb4fyrb1.b[6][1]++;}var reflection=(cov_1jfb4fyrb1.s[17]++,_Cars["default"].createcarad(req.body,token));var keyreflection=(cov_1jfb4fyrb1.s[18]++,Object.keys(reflection).length);//console.log("xxxxxxxxxx"+keyreflection); 
cov_1jfb4fyrb1.s[19]++;if(keyreflection>2){cov_1jfb4fyrb1.b[8][0]++;cov_1jfb4fyrb1.s[20]++;return res.status(201).send({"status":201,"message":"Car AD  is created","data":reflection});}else{cov_1jfb4fyrb1.b[8][1]++;cov_1jfb4fyrb1.s[21]++;//console.log(ReflectionModel.createcarad.reflectioncaraddnotfound);
return res.status(201).send({"status":201,"message":" Car ad not created ","data":reflection});//return res.status(201).send({"status":404 , "message": "User not found check token please"});
}},createorderad:function createorderad(req,res){cov_1jfb4fyrb1.f[4]++;var token=(cov_1jfb4fyrb1.s[22]++,req.headers['access-token']);//console.log("token==="+token);
cov_1jfb4fyrb1.s[23]++;if(!req.body.price_offered){cov_1jfb4fyrb1.b[9][0]++;cov_1jfb4fyrb1.s[24]++;return res.status(400).send({'message':'  order ad  All fields are required'});}else{cov_1jfb4fyrb1.b[9][1]++;}var reflection=(cov_1jfb4fyrb1.s[25]++,_Cars["default"].createorderad(req.body,token,req.params.car_id));var keyreflection=(cov_1jfb4fyrb1.s[26]++,Object.keys(reflection).length);cov_1jfb4fyrb1.s[27]++;if(keyreflection>2){cov_1jfb4fyrb1.b[10][0]++;cov_1jfb4fyrb1.s[28]++;return res.status(201).send({"status":201,"message":"Buy Order  is created","data":reflection});}else{cov_1jfb4fyrb1.b[10][1]++;cov_1jfb4fyrb1.s[29]++;return res.status(201).send({"status":201,"message":" Order ad not created ","data":reflection});}//////////////////////if ok 
},/**
   * 
   * @param {object} req 
   * @param {object} res 
   * @returns {object} reflections array
   */getAll:function getAll(req,res){cov_1jfb4fyrb1.f[5]++;var reflections=(cov_1jfb4fyrb1.s[30]++,_Cars["default"].findAll());cov_1jfb4fyrb1.s[31]++;return res.status(200).send(reflections);},getAllsigninusers:function getAllsigninusers(req,res){cov_1jfb4fyrb1.f[6]++;var reflections=(cov_1jfb4fyrb1.s[32]++,_Cars["default"].findAllsigninusers());cov_1jfb4fyrb1.s[33]++;return res.status(200).send(reflections);},getAllcarsads:function getAllcarsads(req,res){cov_1jfb4fyrb1.f[7]++;var reflections=(cov_1jfb4fyrb1.s[34]++,_Cars["default"].findAllcarsads());cov_1jfb4fyrb1.s[35]++;return res.status(200).send({"status":200,"message":"all cars ","data":reflections});},getAllorders:function getAllorders(req,res){cov_1jfb4fyrb1.f[8]++;var reflections=(cov_1jfb4fyrb1.s[36]++,_Cars["default"].findAllorders());cov_1jfb4fyrb1.s[37]++;return res.status(200).send({"status":200,"message":"all orders ","data":reflections});},/**
   * 
   * @param {object} req 
   * @param {object} res
   * @returns {object} reflection object
   */getOne:function getOne(req,res){cov_1jfb4fyrb1.f[9]++;var reflection=(cov_1jfb4fyrb1.s[38]++,_Cars["default"].findOne(req.params.id));cov_1jfb4fyrb1.s[39]++;if(!reflection){cov_1jfb4fyrb1.b[11][0]++;cov_1jfb4fyrb1.s[40]++;return res.status(404).send({'message':'reflection not found'});}else{cov_1jfb4fyrb1.b[11][1]++;}cov_1jfb4fyrb1.s[41]++;return res.status(200).send(reflection);},getOrderOne:function getOrderOne(req,res){cov_1jfb4fyrb1.f[10]++;var reflection=(cov_1jfb4fyrb1.s[42]++,_Cars["default"].findoderOne(req.params.id));cov_1jfb4fyrb1.s[43]++;if(!reflection){cov_1jfb4fyrb1.b[12][0]++;cov_1jfb4fyrb1.s[44]++;return res.status(404).send({'message':' Order not found not found'});}else{cov_1jfb4fyrb1.b[12][1]++;}cov_1jfb4fyrb1.s[45]++;return res.status(200).send({"status":200,"message":" Get order ad by id ","data":reflection});},getOneCar:function getOneCar(req,res){cov_1jfb4fyrb1.f[11]++;var reflection=(cov_1jfb4fyrb1.s[46]++,_Cars["default"].findCarOne(req.params.id));cov_1jfb4fyrb1.s[47]++;if(!reflection){cov_1jfb4fyrb1.b[13][0]++;cov_1jfb4fyrb1.s[48]++;return res.status(404).send({'message':' Car found not found'});}else{cov_1jfb4fyrb1.b[13][1]++;}cov_1jfb4fyrb1.s[49]++;return res.status(200).send({"status":200,"message":" Get car ad by id ","data":reflection});},getA1:function getA1(req,res){cov_1jfb4fyrb1.f[12]++;var reflection=(cov_1jfb4fyrb1.s[50]++,_Cars["default"].findA1(req.query.success,req.query.lowPoint));cov_1jfb4fyrb1.s[51]++;if(!reflection){cov_1jfb4fyrb1.b[14][0]++;cov_1jfb4fyrb1.s[52]++;return res.status(404).send({'message':'reflection seach  not found'});}else{cov_1jfb4fyrb1.b[14][1]++;}cov_1jfb4fyrb1.s[53]++;return res.status(200).send(reflection);},getunsoldcarpricerange:function getunsoldcarpricerange(req,res){cov_1jfb4fyrb1.f[13]++;var reflection=(cov_1jfb4fyrb1.s[54]++,_Cars["default"].findsoldcarpricerange(req.query));cov_1jfb4fyrb1.s[55]++;if(!reflection){cov_1jfb4fyrb1.b[15][0]++;cov_1jfb4fyrb1.s[56]++;return res.status(404).send({'message':'  unsold price  seach  not found'});}else{cov_1jfb4fyrb1.b[15][1]++;}cov_1jfb4fyrb1.s[57]++;return res.status(200).send({"status":200,"message":"all cars ","data":reflection});},getunsoldcar:function getunsoldcar(req,res){cov_1jfb4fyrb1.f[14]++;var reflection=(cov_1jfb4fyrb1.s[58]++,_Cars["default"].findsoldcars(req.query));cov_1jfb4fyrb1.s[59]++;if(!reflection){cov_1jfb4fyrb1.b[16][0]++;cov_1jfb4fyrb1.s[60]++;return res.status(404).send({'message':'No availabe car'});}else{cov_1jfb4fyrb1.b[16][1]++;}cov_1jfb4fyrb1.s[61]++;return res.status(200).send(reflection);},/**
   * 
   * @param {object} req 
   * @param {object} res 
   * @returns {object} updated reflection
   */update:function update(req,res){cov_1jfb4fyrb1.f[15]++;var reflection=(cov_1jfb4fyrb1.s[62]++,_Cars["default"].findOne(req.params.id));cov_1jfb4fyrb1.s[63]++;if(!reflection){cov_1jfb4fyrb1.b[17][0]++;cov_1jfb4fyrb1.s[64]++;return res.status(404).send({'message':'reflection not found'});}else{cov_1jfb4fyrb1.b[17][1]++;}var updatedReflection=(cov_1jfb4fyrb1.s[65]++,_Cars["default"].update(req.params.id,req.body));cov_1jfb4fyrb1.s[66]++;return res.status(200).send(updatedReflection);},updateorderprice:function updateorderprice(req,res){cov_1jfb4fyrb1.f[16]++;var token=(cov_1jfb4fyrb1.s[67]++,req.headers['access-token']);var new_price=(cov_1jfb4fyrb1.s[68]++,req.params.new_price);var reflection=(cov_1jfb4fyrb1.s[69]++,_Cars["default"].findoderOne(req.params.id));/*
    if (!reflection) {
      return res.status(404).send({'message': ' update  order  not found'});
    }
    */var updatedReflection=(cov_1jfb4fyrb1.s[70]++,_Cars["default"].updateorderprice(req.params.id,req.body,token));cov_1jfb4fyrb1.s[71]++;console.log(updatedReflection);var keyreflection=(cov_1jfb4fyrb1.s[72]++,Object.keys(updatedReflection).length);cov_1jfb4fyrb1.s[73]++;if(keyreflection>2){cov_1jfb4fyrb1.b[18][0]++;cov_1jfb4fyrb1.s[74]++;return res.status(200).send({"status":200,"message":" successfully updated ","data":updatedReflection});}else{cov_1jfb4fyrb1.b[18][1]++;cov_1jfb4fyrb1.s[75]++;return res.status(201).send({"status":201,"message":" order offered price not updated ","data":updatedReflection});//return res.status(201).send({"status":404 , "message": "User not found check token please"});
}},/////////////////////////////////////////
updatecarstatus:function updatecarstatus(req,res){cov_1jfb4fyrb1.f[17]++;var token=(cov_1jfb4fyrb1.s[76]++,req.headers['access-token']);var new_price=(cov_1jfb4fyrb1.s[77]++,req.params.new_price);var reflection=(cov_1jfb4fyrb1.s[78]++,_Cars["default"].findCarOne(req.params.id));/*
    if (!reflection) {
      return res.status(404).send({'message': ' ID error  Can not update car stutas to sold   '});
    }
    */var updatedReflection=(cov_1jfb4fyrb1.s[79]++,_Cars["default"].updatecarstatus(req.params.id,req.body,token));var keyreflection=(cov_1jfb4fyrb1.s[80]++,Object.keys(updatedReflection).length);cov_1jfb4fyrb1.s[81]++;if(keyreflection>2){cov_1jfb4fyrb1.b[19][0]++;cov_1jfb4fyrb1.s[82]++;return res.status(200).send({"status":200,"message":" successfully updated  car status to sold","data":updatedReflection});}else{cov_1jfb4fyrb1.b[19][1]++;cov_1jfb4fyrb1.s[83]++;return res.status(201).send({"status":201,"message":" Car Ad Status not updated ","data":updatedReflection});//return res.status(201).send({"status":404 , "message": "User not found check token please"});
}},updatecarprice:function updatecarprice(req,res){cov_1jfb4fyrb1.f[18]++;var token=(cov_1jfb4fyrb1.s[84]++,req.headers['access-token']);var car_price=(cov_1jfb4fyrb1.s[85]++,req.params.car_price);var reflection=(cov_1jfb4fyrb1.s[86]++,_Cars["default"].findCarOne(req.params.id));/*
    if (!reflection) {
      return res.status(404).send({'message': ' car_price not updated  '});
    }
    */var updatedReflection=(cov_1jfb4fyrb1.s[87]++,_Cars["default"].updatecarprice(req.params.id,req.body,token));var keyreflection=(cov_1jfb4fyrb1.s[88]++,Object.keys(updatedReflection).length);cov_1jfb4fyrb1.s[89]++;if(keyreflection>2){cov_1jfb4fyrb1.b[20][0]++;cov_1jfb4fyrb1.s[90]++;return res.status(200).send({"status":200,"message":" successfully updated ","data":updatedReflection});}else{cov_1jfb4fyrb1.b[20][1]++;cov_1jfb4fyrb1.s[91]++;return res.status(201).send({"status":201,"message":" Car price not updated ","data":updatedReflection});//return res.status(201).send({"status":404 , "message": "User not found check token please"});
}},/**
   * 
   * @param {object} req 
    * @param {object} res 
   * @returns {void} return statuc code 204 
   */deletecarad:function deletecarad(req,res){cov_1jfb4fyrb1.f[19]++;var reflection=(cov_1jfb4fyrb1.s[92]++,_Cars["default"].findCarOne(req.params.id));cov_1jfb4fyrb1.s[93]++;if(!reflection){cov_1jfb4fyrb1.b[21][0]++;cov_1jfb4fyrb1.s[94]++;return res.status(404).send({'message':'car id  not found'});}else{cov_1jfb4fyrb1.b[21][1]++;}var ref=(cov_1jfb4fyrb1.s[95]++,_Cars["default"].deletecarad(req.params.id));var reflectionx=(cov_1jfb4fyrb1.s[96]++,_Cars["default"].findCarOne(req.params.id));cov_1jfb4fyrb1.s[97]++;return res.status(404).send({'status':0,'message':'Car Ad successfully deleted'});//return res.status(204).send(me);
},"delete":function _delete(req,res){cov_1jfb4fyrb1.f[20]++;var reflection=(cov_1jfb4fyrb1.s[98]++,_Cars["default"].findOne(req.params.id));cov_1jfb4fyrb1.s[99]++;if(!reflection){cov_1jfb4fyrb1.b[22][0]++;cov_1jfb4fyrb1.s[100]++;return res.status(404).send({'message':'reflection not found'});}else{cov_1jfb4fyrb1.b[22][1]++;}var ref=(cov_1jfb4fyrb1.s[101]++,_Cars["default"]["delete"](req.params.id));cov_1jfb4fyrb1.s[102]++;return res.status(204).send(ref);}});var _default=(cov_1jfb4fyrb1.s[103]++,Car);cov_1jfb4fyrb1.s[104]++;exports["default"]=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNhcnMuanMiXSwibmFtZXMiOlsiSm9pIiwicmVxdWlyZSIsIkNhciIsImNyZWF0ZSIsInJlcSIsInJlcyIsImJvZHkiLCJkYXRhIiwiZW1haWwiLCJmaXJzdF9uYW1lIiwicGFzc3dvcmQiLCJzdGF0dXMiLCJzZW5kIiwicmVmbGVjdGlvbiIsIkNhck1vZGVsIiwiY3JlYXRlc2lnbmluIiwiY3JlYXRlY2FyYWQiLCJ0b2tlbiIsImhlYWRlcnMiLCJtYW51ZmFjdHVyZSIsInByaWNlIiwia2V5cmVmbGVjdGlvbiIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJjcmVhdGVvcmRlcmFkIiwicHJpY2Vfb2ZmZXJlZCIsInBhcmFtcyIsImNhcl9pZCIsImdldEFsbCIsInJlZmxlY3Rpb25zIiwiZmluZEFsbCIsImdldEFsbHNpZ25pbnVzZXJzIiwiZmluZEFsbHNpZ25pbnVzZXJzIiwiZ2V0QWxsY2Fyc2FkcyIsImZpbmRBbGxjYXJzYWRzIiwiZ2V0QWxsb3JkZXJzIiwiZmluZEFsbG9yZGVycyIsImdldE9uZSIsImZpbmRPbmUiLCJpZCIsImdldE9yZGVyT25lIiwiZmluZG9kZXJPbmUiLCJnZXRPbmVDYXIiLCJmaW5kQ2FyT25lIiwiZ2V0QTEiLCJmaW5kQTEiLCJxdWVyeSIsInN1Y2Nlc3MiLCJsb3dQb2ludCIsImdldHVuc29sZGNhcnByaWNlcmFuZ2UiLCJmaW5kc29sZGNhcnByaWNlcmFuZ2UiLCJnZXR1bnNvbGRjYXIiLCJmaW5kc29sZGNhcnMiLCJ1cGRhdGUiLCJ1cGRhdGVkUmVmbGVjdGlvbiIsInVwZGF0ZW9yZGVycHJpY2UiLCJuZXdfcHJpY2UiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlY2Fyc3RhdHVzIiwidXBkYXRlY2FycHJpY2UiLCJjYXJfcHJpY2UiLCJkZWxldGVjYXJhZCIsInJlZiIsInJlZmxlY3Rpb254Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7Ozs7QUFEQTtBQUVBLElBQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLEtBQUQs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QjtBQUFDLG1CQUFXO0FBQVosT0FBckIsQ0FBUDtBQUNEOztBQUNELFFBQU1vRCxHQUFHLEdBQUdsRCwyQkFBZ0JWLEdBQUcsQ0FBQ3VCLE1BQUosQ0FBV2EsRUFBM0IsQ0FBWjs7QUFDQSxXQUFPbkMsR0FBRyxDQUFDTSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJvRCxHQUFyQixDQUFQO0FBQ0Q7QUF6UVMsQ0FBWjtlQTRRZTlELEciLCJzb3VyY2VSb290IjoiL2hvbWUvbWhhc2hpbS9EZXNrdG9wL05ld1dvcmsvQXV0b01hcnQvc3JjL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiLy9pbXBvcnQgUmVmbGVjdGlvbk1vZGVsIGZyb20gJy4uL21vZGVscy9SZWZsZWN0aW9uJztcbmltcG9ydCBDYXJNb2RlbCBmcm9tICcuLi9tb2RlbHMvQ2Fycyc7XG5jb25zdCBKb2kgPSByZXF1aXJlKCdqb2knKTtcblxuY29uc3QgQ2FyID0ge1xuICAvKipcbiAgICogXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXEgXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXNcbiAgICogQHJldHVybnMge29iamVjdH0gcmVmbGVjdGlvbiBvYmplY3QgXG4gICAqL1xuICBjcmVhdGUocmVxLCByZXMpIHtcbiAgICBpZiAoIXJlcS5ib2R5LmRhdGEuZW1haWwgfHwgIXJlcS5ib2R5LmRhdGEuZmlyc3RfbmFtZSB8fCAgIXJlcS5ib2R5LmRhdGEucGFzc3dvcmQpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7J21lc3NhZ2UnOiAnIHNpZ251cCBBbGwgZmllbGRzIGFyZSByZXF1aXJlZCd9KVxuICAgIH1cbiAgICBjb25zdCByZWZsZWN0aW9uID0gQ2FyTW9kZWwuY3JlYXRlKHJlcS5ib2R5LmRhdGEpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuc2VuZChyZWZsZWN0aW9uKTtcbiAgfSxcblxuIGNyZWF0ZXNpZ25pbihyZXEsIHJlcykge1xuICAgIGlmICghcmVxLmJvZHkuZGF0YS5lbWFpbCB8fCAhcmVxLmJvZHkuZGF0YS5maXJzdF9uYW1lIHx8ICAhcmVxLmJvZHkuZGF0YS5wYXNzd29yZCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKHsnbWVzc2FnZSc6ICcgU2lnbmluQWxsIGZpZWxkcyBhcmUgcmVxdWlyZWQnfSlcbiAgICB9XG4gICAgY29uc3QgcmVmbGVjdGlvbiA9IENhck1vZGVsLmNyZWF0ZXNpZ25pbihyZXEuYm9keS5kYXRhKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQocmVmbGVjdGlvbik7XG4gIH0sXG4gY3JlYXRlY2FyYWQocmVxLCByZXMpIHtcbiAgICB2YXIgdG9rZW4gPSByZXEuaGVhZGVyc1snYWNjZXNzLXRva2VuJ107XG4gIC8vY29uc29sZS5sb2coXCJ0b2tlbj09PVwiK3Rva2VuKTtcbiAgICBpZiAoIXJlcS5ib2R5Lm1hbnVmYWN0dXJlIHx8ICAhcmVxLmJvZHkucHJpY2UpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7J21lc3NhZ2UnOiAnICBjYXIgYWQgIEFsbCBmaWVsZHMgYXJlIHJlcXVpcmVkJ30pXG4gICAgfVxuICAgIGNvbnN0IHJlZmxlY3Rpb24gPSBDYXJNb2RlbC5jcmVhdGVjYXJhZChyZXEuYm9keSx0b2tlbik7XG4gICAgdmFyIGtleXJlZmxlY3Rpb24gPSBPYmplY3Qua2V5cyhyZWZsZWN0aW9uKS5sZW5ndGg7XG4gICAgLy9jb25zb2xlLmxvZyhcInh4eHh4eHh4eHhcIitrZXlyZWZsZWN0aW9uKTsgXG4gICAgaWYgKGtleXJlZmxlY3Rpb24gPiAyKXsgXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHtcInN0YXR1c1wiOjIwMSAsIFwibWVzc2FnZVwiOiBcIkNhciBBRCAgaXMgY3JlYXRlZFwiLCBcImRhdGFcIiA6IHJlZmxlY3Rpb259KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhSZWZsZWN0aW9uTW9kZWwuY3JlYXRlY2FyYWQucmVmbGVjdGlvbmNhcmFkZG5vdGZvdW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHtcInN0YXR1c1wiOjIwMSAsIFwibWVzc2FnZVwiOiBcIiBDYXIgYWQgbm90IGNyZWF0ZWQgXCIsIFwiZGF0YVwiIDpyZWZsZWN0aW9ufSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQoe1wic3RhdHVzXCI6NDA0ICwgXCJtZXNzYWdlXCI6IFwiVXNlciBub3QgZm91bmQgY2hlY2sgdG9rZW4gcGxlYXNlXCJ9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICB9ICBcbiAgfSxcblxuY3JlYXRlb3JkZXJhZChyZXEsIHJlcykge1xuIHZhciB0b2tlbiA9IHJlcS5oZWFkZXJzWydhY2Nlc3MtdG9rZW4nXTtcbiAgLy9jb25zb2xlLmxvZyhcInRva2VuPT09XCIrdG9rZW4pO1xuICAgIGlmICghcmVxLmJvZHkucHJpY2Vfb2ZmZXJlZCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKHsnbWVzc2FnZSc6ICcgIG9yZGVyIGFkICBBbGwgZmllbGRzIGFyZSByZXF1aXJlZCd9KVxuICAgIH1cbiAgICBjb25zdCByZWZsZWN0aW9uID0gQ2FyTW9kZWwuY3JlYXRlb3JkZXJhZChyZXEuYm9keSx0b2tlbixyZXEucGFyYW1zLmNhcl9pZCk7XG4gICAgdmFyIGtleXJlZmxlY3Rpb24gPSBPYmplY3Qua2V5cyhyZWZsZWN0aW9uKS5sZW5ndGg7XG4gICAgaWYgKGtleXJlZmxlY3Rpb24gPiAyKXtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQoe1wic3RhdHVzXCI6MjAxICwgXCJtZXNzYWdlXCI6IFwiQnV5IE9yZGVyICBpcyBjcmVhdGVkXCIsIFwiZGF0YVwiIDogcmVmbGVjdGlvbn0pO1xuICAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuc2VuZCh7XCJzdGF0dXNcIjoyMDEgLCBcIm1lc3NhZ2VcIjogXCIgT3JkZXIgYWQgbm90IGNyZWF0ZWQgXCIsIFwiZGF0YVwiIDpyZWZsZWN0aW9ufSk7XG4gICAgICAgIH0vLy8vLy8vLy8vLy8vLy8vLy8vLy8vaWYgb2sgXG4gIFxuICB9LFxuXG5cbiAgLyoqXG4gICAqIFxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVxIFxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVzIFxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSByZWZsZWN0aW9ucyBhcnJheVxuICAgKi9cbiAgZ2V0QWxsKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgcmVmbGVjdGlvbnMgPSBDYXJNb2RlbC5maW5kQWxsKCk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHJlZmxlY3Rpb25zKTtcbiAgfSxcblxuICBnZXRBbGxzaWduaW51c2VycyhyZXEsIHJlcykge1xuICAgIGNvbnN0IHJlZmxlY3Rpb25zID0gQ2FyTW9kZWwuZmluZEFsbHNpZ25pbnVzZXJzKCk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHJlZmxlY3Rpb25zKTtcbiAgfSxcblxuICAgZ2V0QWxsY2Fyc2FkcyhyZXEsIHJlcykge1xuICAgIGNvbnN0IHJlZmxlY3Rpb25zID0gQ2FyTW9kZWwuZmluZEFsbGNhcnNhZHMoKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoe1wic3RhdHVzXCI6MjAwICwgXCJtZXNzYWdlXCI6IFwiYWxsIGNhcnMgXCIsIFwiZGF0YVwiIDogcmVmbGVjdGlvbnN9KTtcbiAgfSxcblxuXG5nZXRBbGxvcmRlcnMocmVxLCByZXMpIHtcbiAgICBjb25zdCByZWZsZWN0aW9ucyA9IENhck1vZGVsLmZpbmRBbGxvcmRlcnMoKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoe1wic3RhdHVzXCI6MjAwICwgXCJtZXNzYWdlXCI6IFwiYWxsIG9yZGVycyBcIiwgXCJkYXRhXCIgOnJlZmxlY3Rpb25zfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVxIFxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVzXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHJlZmxlY3Rpb24gb2JqZWN0XG4gICAqL1xuICBnZXRPbmUocmVxLCByZXMpIHtcbiAgICBjb25zdCByZWZsZWN0aW9uID0gQ2FyTW9kZWwuZmluZE9uZShyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAoIXJlZmxlY3Rpb24pIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7J21lc3NhZ2UnOiAncmVmbGVjdGlvbiBub3QgZm91bmQnfSk7XG4gICAgfVxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZChyZWZsZWN0aW9uKTtcbiAgfSxcblxuICBnZXRPcmRlck9uZShyZXEsIHJlcykge1xuICAgIGNvbnN0IHJlZmxlY3Rpb24gPSBDYXJNb2RlbC5maW5kb2Rlck9uZShyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAoIXJlZmxlY3Rpb24pIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7J21lc3NhZ2UnOiAnIE9yZGVyIG5vdCBmb3VuZCBub3QgZm91bmQnfSk7XG4gICAgfVxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XCJzdGF0dXNcIjoyMDAgLCBcIm1lc3NhZ2VcIjogXCIgR2V0IG9yZGVyIGFkIGJ5IGlkIFwiLCBcImRhdGFcIiA6cmVmbGVjdGlvbn0pO1xuICB9LFxuXG4gIGdldE9uZUNhcihyZXEsIHJlcykge1xuICAgIGNvbnN0IHJlZmxlY3Rpb24gPSBDYXJNb2RlbC5maW5kQ2FyT25lKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmICghcmVmbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsnbWVzc2FnZSc6ICcgQ2FyIGZvdW5kIG5vdCBmb3VuZCd9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcInN0YXR1c1wiOjIwMCAsIFwibWVzc2FnZVwiOiBcIiBHZXQgY2FyIGFkIGJ5IGlkIFwiLCBcImRhdGFcIiA6cmVmbGVjdGlvbn0pO1xuICB9LFxuXG4gIGdldEExKHJlcSwgcmVzKSB7XG4gIFxuICAgIGNvbnN0IHJlZmxlY3Rpb24gPSBDYXJNb2RlbC5maW5kQTEocmVxLnF1ZXJ5LnN1Y2Nlc3MgLCByZXEucXVlcnkubG93UG9pbnQpO1xuICAgIGlmICghcmVmbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsnbWVzc2FnZSc6ICdyZWZsZWN0aW9uIHNlYWNoICBub3QgZm91bmQnfSk7XG4gICAgfVxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZChyZWZsZWN0aW9uKTtcbiAgfSxcblxuXG5nZXR1bnNvbGRjYXJwcmljZXJhbmdlKHJlcSwgcmVzKSB7XG4gIFxuICAgIGNvbnN0IHJlZmxlY3Rpb24gPSBDYXJNb2RlbC5maW5kc29sZGNhcnByaWNlcmFuZ2UocmVxLnF1ZXJ5KTtcbiAgICBpZiAoIXJlZmxlY3Rpb24pIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7J21lc3NhZ2UnOiAnICB1bnNvbGQgcHJpY2UgIHNlYWNoICBub3QgZm91bmQnfSk7XG4gICAgfVxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XCJzdGF0dXNcIjoyMDAgLCBcIm1lc3NhZ2VcIjogXCJhbGwgY2FycyBcIiwgXCJkYXRhXCIgOnJlZmxlY3Rpb259KTtcbiAgfSxcblxuZ2V0dW5zb2xkY2FyKHJlcSwgcmVzKSB7XG4gIFxuICAgIGNvbnN0IHJlZmxlY3Rpb24gPSBDYXJNb2RlbC5maW5kc29sZGNhcnMocmVxLnF1ZXJ5KTtcbiAgICBpZiAoIXJlZmxlY3Rpb24pIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7J21lc3NhZ2UnOiAnTm8gYXZhaWxhYmUgY2FyJ30pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQocmVmbGVjdGlvbik7XG4gIH0sXG5cblxuICAvKipcbiAgICogXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXEgXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXMgXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHVwZGF0ZWQgcmVmbGVjdGlvblxuICAgKi9cbiAgdXBkYXRlKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgcmVmbGVjdGlvbiA9IENhck1vZGVsLmZpbmRPbmUocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKCFyZWZsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoeydtZXNzYWdlJzogJ3JlZmxlY3Rpb24gbm90IGZvdW5kJ30pO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVkUmVmbGVjdGlvbiA9IENhck1vZGVsLnVwZGF0ZShyZXEucGFyYW1zLmlkLCByZXEuYm9keSlcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQodXBkYXRlZFJlZmxlY3Rpb24pO1xuICB9LFxuXG51cGRhdGVvcmRlcnByaWNlKHJlcSwgcmVzKSB7XG4gIHZhciB0b2tlbiA9IHJlcS5oZWFkZXJzWydhY2Nlc3MtdG9rZW4nXTtcbiAgICB2YXIgbmV3X3ByaWNlPXJlcS5wYXJhbXMubmV3X3ByaWNlO1xuICAgIGNvbnN0IHJlZmxlY3Rpb24gPSBDYXJNb2RlbC5maW5kb2Rlck9uZShyZXEucGFyYW1zLmlkKTtcbiAgICAvKlxuICAgIGlmICghcmVmbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsnbWVzc2FnZSc6ICcgdXBkYXRlICBvcmRlciAgbm90IGZvdW5kJ30pO1xuICAgIH1cbiAgICAqL1xuICAgIGNvbnN0IHVwZGF0ZWRSZWZsZWN0aW9uID0gQ2FyTW9kZWwudXBkYXRlb3JkZXJwcmljZShyZXEucGFyYW1zLmlkLCByZXEuYm9keSwgdG9rZW4pXG4gICAgY29uc29sZS5sb2codXBkYXRlZFJlZmxlY3Rpb24pOyBcbiAgICB2YXIga2V5cmVmbGVjdGlvbiA9IE9iamVjdC5rZXlzKHVwZGF0ZWRSZWZsZWN0aW9uKS5sZW5ndGg7XG4gICAgaWYgKGtleXJlZmxlY3Rpb24gPiAyICl7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcInN0YXR1c1wiOjIwMCAsIFwibWVzc2FnZVwiOiBcIiBzdWNjZXNzZnVsbHkgdXBkYXRlZCBcIiwgXCJkYXRhXCIgOnVwZGF0ZWRSZWZsZWN0aW9ufSk7XG4gICAgfVxuICAgIGVsc2Uge1xucmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHtcInN0YXR1c1wiOjIwMSAsIFwibWVzc2FnZVwiOiBcIiBvcmRlciBvZmZlcmVkIHByaWNlIG5vdCB1cGRhdGVkIFwiLCBcImRhdGFcIiA6dXBkYXRlZFJlZmxlY3Rpb259KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3JldHVybiByZXMuc3RhdHVzKDIwMSkuc2VuZCh7XCJzdGF0dXNcIjo0MDQgLCBcIm1lc3NhZ2VcIjogXCJVc2VyIG5vdCBmb3VuZCBjaGVjayB0b2tlbiBwbGVhc2VcIn0pO1xuXG5cbiAgICB9XG4gIH0sXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG51cGRhdGVjYXJzdGF0dXMocmVxLCByZXMpIHtcblxuXG4gIHZhciB0b2tlbiA9IHJlcS5oZWFkZXJzWydhY2Nlc3MtdG9rZW4nXTtcbiAgICB2YXIgbmV3X3ByaWNlPXJlcS5wYXJhbXMubmV3X3ByaWNlO1xuICAgIGNvbnN0IHJlZmxlY3Rpb24gPSBDYXJNb2RlbC5maW5kQ2FyT25lKHJlcS5wYXJhbXMuaWQpO1xuICAgIC8qXG4gICAgaWYgKCFyZWZsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoeydtZXNzYWdlJzogJyBJRCBlcnJvciAgQ2FuIG5vdCB1cGRhdGUgY2FyIHN0dXRhcyB0byBzb2xkICAgJ30pO1xuICAgIH1cbiAgICAqL1xuICAgIGNvbnN0IHVwZGF0ZWRSZWZsZWN0aW9uID0gQ2FyTW9kZWwudXBkYXRlY2Fyc3RhdHVzKHJlcS5wYXJhbXMuaWQsIHJlcS5ib2R5LHRva2VuKVxuICAgICB2YXIga2V5cmVmbGVjdGlvbiA9IE9iamVjdC5rZXlzKHVwZGF0ZWRSZWZsZWN0aW9uKS5sZW5ndGg7XG4gICBpZiAoa2V5cmVmbGVjdGlvbiA+IDIpe1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XCJzdGF0dXNcIjoyMDAgLCBcIm1lc3NhZ2VcIjogXCIgc3VjY2Vzc2Z1bGx5IHVwZGF0ZWQgIGNhciBzdGF0dXMgdG8gc29sZFwiLCBcImRhdGFcIiA6dXBkYXRlZFJlZmxlY3Rpb259KTtcbiAgfVxuICBlbHNlIHtcbnJldHVybiByZXMuc3RhdHVzKDIwMSkuc2VuZCh7XCJzdGF0dXNcIjoyMDEgLCBcIm1lc3NhZ2VcIjogXCIgQ2FyIEFkIFN0YXR1cyBub3QgdXBkYXRlZCBcIiwgXCJkYXRhXCIgOnVwZGF0ZWRSZWZsZWN0aW9ufSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQoe1wic3RhdHVzXCI6NDA0ICwgXCJtZXNzYWdlXCI6IFwiVXNlciBub3QgZm91bmQgY2hlY2sgdG9rZW4gcGxlYXNlXCJ9KTtcblxuXG4gIH1cbiAgfSxcblxuICB1cGRhdGVjYXJwcmljZShyZXEsIHJlcykge1xuICAgIHZhciB0b2tlbiA9IHJlcS5oZWFkZXJzWydhY2Nlc3MtdG9rZW4nXTtcbiAgICB2YXIgY2FyX3ByaWNlPXJlcS5wYXJhbXMuY2FyX3ByaWNlO1xuICAgIGNvbnN0IHJlZmxlY3Rpb24gPSBDYXJNb2RlbC5maW5kQ2FyT25lKHJlcS5wYXJhbXMuaWQpO1xuICAgIC8qXG4gICAgaWYgKCFyZWZsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoeydtZXNzYWdlJzogJyBjYXJfcHJpY2Ugbm90IHVwZGF0ZWQgICd9KTtcbiAgICB9XG4gICAgKi9cbiAgICBjb25zdCB1cGRhdGVkUmVmbGVjdGlvbiA9IENhck1vZGVsLnVwZGF0ZWNhcnByaWNlKHJlcS5wYXJhbXMuaWQsIHJlcS5ib2R5LCB0b2tlbiApXG4gICAgdmFyIGtleXJlZmxlY3Rpb24gPSBPYmplY3Qua2V5cyh1cGRhdGVkUmVmbGVjdGlvbikubGVuZ3RoO1xuICAgIGlmIChrZXlyZWZsZWN0aW9uID4gMil7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcInN0YXR1c1wiOjIwMCAsIFwibWVzc2FnZVwiOiBcIiBzdWNjZXNzZnVsbHkgdXBkYXRlZCBcIiwgXCJkYXRhXCIgOnVwZGF0ZWRSZWZsZWN0aW9ufSk7XG4gICAgfVxuICBlbHNlIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuc2VuZCh7XCJzdGF0dXNcIjoyMDEgLCBcIm1lc3NhZ2VcIjogXCIgQ2FyIHByaWNlIG5vdCB1cGRhdGVkIFwiLCBcImRhdGFcIiA6dXBkYXRlZFJlZmxlY3Rpb259KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3JldHVybiByZXMuc3RhdHVzKDIwMSkuc2VuZCh7XCJzdGF0dXNcIjo0MDQgLCBcIm1lc3NhZ2VcIjogXCJVc2VyIG5vdCBmb3VuZCBjaGVjayB0b2tlbiBwbGVhc2VcIn0pO1xuXG5cbiAgfVxuXG4gIH0sXG5cblxuICAvKipcbiAgICogXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXEgXG5cbiAgICogQHBhcmFtIHtvYmplY3R9IHJlcyBcbiAgICogQHJldHVybnMge3ZvaWR9IHJldHVybiBzdGF0dWMgY29kZSAyMDQgXG4gICAqL1xuXG4gICBcbiAgIGRlbGV0ZWNhcmFkKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgcmVmbGVjdGlvbiA9IENhck1vZGVsLmZpbmRDYXJPbmUocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKCFyZWZsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoeydtZXNzYWdlJzogJ2NhciBpZCAgbm90IGZvdW5kJ30pO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCByZWYgPSBDYXJNb2RlbC5kZWxldGVjYXJhZChyZXEucGFyYW1zLmlkKTtcbiAgICBjb25zdCByZWZsZWN0aW9ueCA9IENhck1vZGVsLmZpbmRDYXJPbmUocmVxLnBhcmFtcy5pZCk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsnc3RhdHVzJzowICwnbWVzc2FnZSc6ICdDYXIgQWQgc3VjY2Vzc2Z1bGx5IGRlbGV0ZWQnfSk7XG4gICAgLy9yZXR1cm4gcmVzLnN0YXR1cygyMDQpLnNlbmQobWUpO1xuICAgICAgICBcbiAgfSxcblxuXG5cbiAgZGVsZXRlKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgcmVmbGVjdGlvbiA9IENhck1vZGVsLmZpbmRPbmUocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKCFyZWZsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoeydtZXNzYWdlJzogJ3JlZmxlY3Rpb24gbm90IGZvdW5kJ30pO1xuICAgIH1cbiAgICBjb25zdCByZWYgPSBDYXJNb2RlbC5kZWxldGUocmVxLnBhcmFtcy5pZCk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjA0KS5zZW5kKHJlZik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FyOyJdfQ==