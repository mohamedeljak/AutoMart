{"version":3,"sources":["Orders.js"],"names":["Reflection","reflections","reflectionssignin","reflectionscreatecaradd","reflectioncreateorder","data","newReflection","stutas","id","uuid","v4","email","first_name","last_name","token","address","is_admin","password","createdDate","moment","now","modifiedDate","push","newReflectionsign","reflection","user","find","reflect","reflectioncaraddnotfound","newReflectioncreatecarad","user_id","manufacture","model","price","parseFloat","state","status","created_on","modified_on","car_id","console","log","reflectionodernotfound","reflectionfindcartoorder","car","reflectionfindcartoorderinorder","reflectionorercaridnotfound","reflectionorercaridnotfoundx","newReflectioncreateorder","price_offered","success","lowPoint","filter","q","Object","keys","length","min_price","max_price","findOne","index","indexOf","takeAway","findoderOne","reflectionx","reflectionfindsold","findCarOne","old_price_offered","new_price_offered","reflectioncaraddd","reflectionord","splice"],"mappings":"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","sourceRoot":"/home/mhashim/Desktop/NewWork/AutoMart/src/models","sourcesContent":["import moment from 'moment';\nimport uuid from 'uuid';\nimport user from '../models/user';\nimport car from '../models/Cars';\nclass Reflection {\n  /**\n   * class constructor\n   * @param {object} data\n   */\n  constructor() {\n    this.reflections = [];\n    this.reflectionssignin = [];\n    this.reflectionscreatecaradd =[];\n    this. reflectioncreateorder = [];\n  }\n  /**\n   * \n   * @returns {object} reflection object\n   */\n  ///////////////////////////////Signup\n  create(data) {\n    const newReflection = {\n      stutas: '1' || ' ',\n      data :{\n\n         id: uuid.v4(),\n         email: data.email ,\n         first_name: data.first_name,\n         last_name: data.last_name,\n         token : uuid.v4(),\n         address :data.address ,\n         is_admin : data.is_admin ,\n         password : data.password\n         \n         },\n      createdDate: moment.now(),\n      modifiedDate: moment.now()\n    };\n    this.reflections.push(newReflection);\n    return newReflection\n  }\n  //////////////////////////////////////End signup\n  ///////////////////////////////Signin\n  createsignin(data) {\nconst newReflectionsign = {\n      stutas: '1',\n      data :{\n\n         id: uuid.v4(),\n         email: data.email ,\n         first_name: data.first_name,\n         last_name: data.last_name ,\n         token : uuid.v4(),\n         address :data.address ,\n         is_admin : data.is_admin ,\n         password : data.password\n         },\n      createdDate: moment.now(),\n      modifiedDate: moment.now()\n    };\n    this.reflectionssignin.push(newReflectionsign);\n    return newReflectionsign\n  }\n  //////////////////////////////////////End signin\n///////////////////////////////create car post ad\n  createcarad(data,token) {\n    //console.log(\"tokenmodel\"+token);\n    const reflection = user.reflections.find(reflect => reflect.token === token);\n    \n    if(!reflection){\n      const reflectioncaraddnotfound  = {\"status\":404 , \"message\": \"User not found check please\"};\n     //console.log(\"cccccccccc\"+reflectioncaraddnotfound);\n     return reflectioncaraddnotfound;\n\n       \n\n\n    }\n    else {\n      //console.log(\"found=\"+reflection.email);\n     const newReflectioncreatecarad = {\n    \n\n         id: uuid.v4(),\n         user_id:reflection.id,\n         email: reflection.email ,\n         manufacture:data.manufacture,\n         model: data.model ,\n         price: parseFloat(data.price),\n         state : data.state ,\n         status : data.status || 'available' ,\n         created_on: moment.now(),\n         modified_on: moment.now()\n         };\n    this.reflectionscreatecaradd.push(newReflectioncreatecarad);\n    return newReflectioncreatecarad\n\n    }\n\n    \n  }\n  //////////////////////////////////////create car post a\n  ///////////////////////////////create order post\n  createorderad(data,token,car_id) {\n    console.log(\"kkkkkkkkkkkkkkkkkkkkkkkkkkkk\");\n    const reflection = user.reflections.find(reflect => reflect.token === token);\n    \n    if(!reflection){\n      const reflectionodernotfound  = {\"status\":404 , \"message\": \"User not found check please\"};\n     return reflectionodernotfound ;\n       \n\n\n    }\n\n   else {\n     const reflectionfindcartoorder = car.reflectionscreatecaradd.find(reflect => reflect.id === car_id);\n      const reflectionfindcartoorderinorder = this.reflectioncreateorder.find(reflect => reflect.car_id === car_id);  \n   //   console.log(\"gggggggggggggggg\"+reflectionfindcartoorderinorder);\n      \n    if (!reflectionfindcartoorder){\n          const reflectionorercaridnotfound = {\"status\":404 , \"message\": \"this car ad not found\"};\n          return reflectionorercaridnotfound;\n          \n    } \n\n  else {\n\n if(reflectionfindcartoorderinorder){\n                 \n              const reflectionorercaridnotfoundx = {\"status\":404 , \"message\": \"this car  had already ordered\"};\n          return reflectionorercaridnotfoundx;\n\n          }\n\n\n else {\n    //console.log(\"carid\"+reflectionfindcartoorder.id);\n    const newReflectioncreateorder = {\n      \n\n         id: uuid.v4(),   \n         user_id:reflection.id,\n         car_id : reflectionfindcartoorder.id,\n         price: reflectionfindcartoorder.price,    \n         price_offered : parseFloat(data.price_offered),\n         status : 'available' ,\n         created_on: moment.now(),\n         modified_on: moment.now()\n        \n      \n    };\n    this.reflectioncreateorder.push(newReflectioncreateorder);\n    return newReflectioncreateorder\n  }\n  }\n  }\n  }\n  ////////////////////////////////////// end create order post\n\n\n\n  /**\n   * \n   * @param {uuid} id\n   * @returns {object} reflection object\n   */\n  findOne(id) {\n    return this.reflections.find(reflect => reflect.id === id);\n  }\n\n\n\n\n\n\n  \n\n  findoderOne(id) {\n    return this.reflectioncreateorder.find(reflect => reflect.id === id);\n  }\n\n  findCarOne(id) {\n    return this.reflectionscreatecaradd.find(reflect => reflect.id === id);\n  }\n\n\n\n  findA1(success , lowPoint) {\nreturn this.reflections.filter(( reflect => reflect.lowPoint === lowPoint) && (reflect => reflect.success === success));\n  }\n\nfindsoldcarpricerange(q) {\n//console.log(Object.keys(q).length);\n\n//console.log(q.status);\n//console.log(q.min_price);\n//console.log(q.max_price);\n  //console.log(min_price);\n  //console.log(max_price);\n    if(Object.keys(q).length === 0){\n   return this.reflectionscreatecaradd;\n\n    }\n\nelse if (Object.keys(q).length === 1) {\n   return this.reflectionscreatecaradd.filter((reflect => reflect.status === q.status ));\n\n   }\nelse {\n\n  return this.reflectionscreatecaradd.filter(\n    ( reflect => reflect.status === q.status)).filter(reflect => reflect.price > parseFloat(q.min_price)).filter(reflect => reflect.price < parseFloat(q.max_price));\n\n}\n  }\n\n  findsoldcars(q) {\n  \nreturn this.reflectionscreatecaradd.filter((reflect => reflect.data.status === status ));\n  }\n\n  \n  /**\n   * @returns {object} returns all reflections\n   */\n  findAll() {\n    return this.reflections;\n  }\n\n  findAllsigninusers() {\n    return this.reflectionssignin;\n  }\n\n  findAllcarsads() {\n    return this.reflectionscreatecaradd;\n  }\n\n  findAllorders() {\n    return this.reflectioncreateorder;\n  }\n  /**\n   * \n   * @param {uuid} id\n   * @param {object} data \n   */\n  update(id, data) {\n    const reflection = this.findOne(id);\n    const index = this.reflections.indexOf(reflection);\n    this.reflections[index].success = data['success'] || reflection.success;\n    this.reflections[index].lowPoint = data['lowPoint'] || reflection.lowPoint;\n    this.reflections[index].takeAway = data['takeAway'] || reflection.takeAway;\n    this.reflections[index].modifiedDate = moment.now()\n    return this.reflections[index];\n  }\n\n  \nupdateorderprice(id, data, token) {\n  //console.log(\"jjjjjjjjjjjjjjjjjjjjjjjjj\");\n    const reflection = this.findoderOne(id);\n    const index = this.reflectioncreateorder.indexOf(reflection);\n    const reflectionx = user.reflections.find(reflect => reflect.token === token);\n    \n    if(!reflectionx){\n      const reflectioncaraddnotfound  = {\"status\":404 , \"message\": \"User not found check please\"};\n     //console.log(\"cccccccccc\"+reflectioncaraddnotfound);\n     return reflectioncaraddnotfound;\n\n   }\n \n else {\n\n     if(reflection){\n   if (reflection.user_id === reflectionx.id){\n   const car_id = this.reflectioncreateorder[index].car_id;\n   console.log(\"looool=\"+car_id);    \n   const reflectionfindsold = car.findCarOne(car_id);\n  \n  \n    if (reflectionfindsold.status === \"available\"){\n\n    this.reflectioncreateorder[index].old_price_offered = data['price_offered'] || reflection.price_offered || reflection.new_price_offered  ;\n    this.reflectioncreateorder[index].price_offered = this.reflectioncreateorder[index].old_price_offered; \n    delete this.reflectioncreateorder[index].price_offered;\n   this.reflectioncreateorder[index].new_price_offered= data.price ;\n    /*\n    this.reflections[index].lowPoint = data['lowPoint'] || reflection.lowPoint;\n    this.reflections[index].takeAway = data['takeAway'] || reflection.takeAway;\n    this.reflections[index].modifiedDate = moment.now()\n    */\n    return this.reflectioncreateorder[index];\n  }\n  \n else {\nconst reflectioncaraddd = {\"status\":404 , \"message\": \"Sorry, you can not upate your offered price as this car already sold\"};\n          return reflectioncaraddd;\n  \n\n }\n\n\n\n  }\n  else {\n\n    const reflectioncaraddd = {\"status\":404 , \"message\": \"Sorry, you are not the order's Owner\"};\n          return reflectioncaraddd;\n  }\n\n  }//  end if refelction \n \n  else {\n \n     const reflectionord = {\"status\":404 , \"message\": \"Order not found\"};\n          return reflectionord;\n\n  }\n\n}\n  \n\n  }\n\n\n updatecarstatus(id, data, token) {\n    const reflection = this.findCarOne(id);\n    const index = this.reflectionscreatecaradd.indexOf(reflection);\n    const reflectionx = user.reflections.find(reflect => reflect.token === token);\n    if(!reflectionx){\n      const reflectioncaraddnotfound  = {\"status\":404 , \"message\": \"User not found check please\"};\n     //console.log(\"cccccccccc\"+reflectioncaraddnotfound);\n     return reflectioncaraddnotfound;\n\n   }\n\n   else{\n   if (reflection){   \n    if (reflection.user_id === reflectionx.id){\n    this.reflectionscreatecaradd[index].status = \"sold\" ;\n       \n    return this.reflectionscreatecaradd[index];\n  }\n\n  else {\n\n    const reflectioncaraddd = {\"status\":404 , \"message\": \"Sorry, you are not the ad's Owner\"};\n          return reflectioncaraddd;\n  }\n  }\n  else {\n    const reflectioncaraddd = {\"status\":404 , \"message\": \"car add not found to be updated to sold\"};\n          return reflectioncaraddd;\n\n  }\n}\n  }\n\n  updatecarprice(id, data, token) {\n    const reflection = this.findCarOne(id);\n    const index = this.reflectionscreatecaradd.indexOf(reflection);\n    \n    const reflectionx = user.reflections.find(reflect => reflect.token === token);\n    if(!reflectionx){\n      const reflectioncaraddnotfound  = {\"status\":404 , \"message\": \"User not found check please\"};\n     //console.log(\"cccccccccc\"+reflectioncaraddnotfound);\n     return reflectioncaraddnotfound;\n\n   }\n  else {\n\n    if(reflection){\n     //console.log(reflection.status)\n     if (reflection.status === \"available\"){    \n\n    if (reflection.user_id === reflectionx.id){\n      \n    this.reflectionscreatecaradd[index].price = parseFloat(data.price) ;\n       \n    return this.reflectionscreatecaradd[index];\n  }\n  else {\n\n    const reflectioncaraddd = {\"status\":404 , \"message\": \"Sorry, you are not the ad's Owner\"};\n          return reflectioncaraddd;\n  }\n\n  }\n  else {\n\n    const reflectioncaraddd = {\"status\":404 , \"message\": \"Can not Update this car is sold\"};\n          return reflectioncaraddd;\n  }\n    \n\n    }  // end if refelction\n    else {\n    const reflectioncaraddd = {\"status\":404 , \"message\": \"car add not found\"};\n          return reflectioncaraddd;\n\n    }\n    }\n  \n  }\n\n  /**\n   * \n   * @param {uuid} id \n   */\n\n   deletecarad(id) {\n    const reflection = this.findCarOne(id);\n    const index = this.reflectionscreatecaradd.indexOf(reflection);\n    this.reflectionscreatecaradd.splice(index, 1);\n    return {'message': 'car  Ad successfully deleted'};\n  }\n  delete(id) {\n    const reflection = this.findOne(id);\n    const index = this.reflections.indexOf(reflection);\n    this.reflections.splice(index, 1);\n    return {};\n  }\n}\nexport default new Reflection();"]}